<!DOCTYPE html><html lang='en'><head><title>Distance Metrics</title><meta charset="utf-8"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}input{font-family:inherit;font-size:100%;line-height:1.15;margin:0}input{overflow:visible}[type=checkbox]{box-sizing:border-box;padding:0}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1,h2,h3,h4,p,pre{margin:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e2e8f0}img{border-style:solid}input:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder{color:#a0aec0}input::-moz-placeholder{color:#a0aec0}h1,h2,h3,h4{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}input{padding:0;line-height:inherit;color:inherit}code,pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-gray-300{--bg-opacity:1;background-color:#e2e8f0;background-color:rgba(226,232,240,var(--bg-opacity))}.bg-orange-300{--bg-opacity:1;background-color:#fbd38d;background-color:rgba(251,211,141,var(--bg-opacity))}.bg-green-200{--bg-opacity:1;background-color:#c6f6d5;background-color:rgba(198,246,213,var(--bg-opacity))}.bg-blue-200{--bg-opacity:1;background-color:#bee3f8;background-color:rgba(190,227,248,var(--bg-opacity))}.bg-blue-300{--bg-opacity:1;background-color:#90cdf4;background-color:rgba(144,205,244,var(--bg-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-gray-500{--border-opacity:1;border-color:#a0aec0;border-color:rgba(160,174,192,var(--border-opacity))}.border-indigo-500{--border-opacity:1;border-color:#667eea;border-color:rgba(102,126,234,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border{border-width:1px}.border-l-2{border-left-width:2px}.border-t{border-top-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.justify-center{justify-content:center}.justify-around{justify-content:space-around}.float-left{float:left}.clearfix:after{content:"";display:table;clear:both}.font-sans{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}.font-serif{font-family:Georgia,Cambria,"Times New Roman",Times,serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-64{height:16rem}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.text-base{font-size:1rem}.text-xl{font-size:1.25rem}.leading-none{line-height:1}.leading-normal{line-height:1.5}.m-2{margin:.5rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-3{margin-top:.75rem;margin-bottom:.75rem}.my-4{margin-top:1rem;margin-bottom:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mr-3{margin-right:.75rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.mt-6{margin-top:1.5rem}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.object-contain{-o-object-fit:contain;object-fit:contain}.opacity-0{opacity:0}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pl-3{padding-left:.75rem}.absolute{position:absolute}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.shadow-inner{box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.06)}.text-left{text-align:left}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.whitespace-no-wrap{white-space:nowrap}.w-1\/2{width:50%}.w-2\/3{width:66.666667%}.w-full{width:100%}@media (min-width:768px){.md\:w-2\/3{width:66.666667%}}.text-tiny{font-size:.5rem!important}body{color:#000!important;font-size:1.25rem!important}.main-content{max-width:900px}.lesson{padding-left:15px!important;padding-right:10px!important;--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.main-content,html{font-family:Arial,Georgia,Verdana,"Times New Roman"!important}.lesson-footer-card,.lesson-overview-card{font-family:"Times New Roman"!important}.lesson-footer{margin-top:50px;margin-top:20px}span{white-space:nowrap}p.new{padding-top:0;padding-bottom:.5em}p.new+p{padding-top:.5em}h1,h2,h3,h4{font-weight:700;margin-top:.25em!important;margin-bottom:.05em!important;font-family:Georgia,Cambria,"Times New Roman",Times,serif!important}h1{font-size:2em!important;clear:both;color:#000!important}div+h1,h2{margin-top:0!important}h2{margin-top:.5em!important;font-size:1.5em!important;clear:both;color:#8b0000!important}h3{font-size:1.25em!important;clear:both;color:#006400!important}h4{font-size:1em!important;clear:both;color:#00008b!important}.lesson a{text-decoration:underline;color:#00f}.title-text{font-size:2rem}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.5)}img.formula-block{margin-left:auto;margin-right:auto;margin-top:.25rem;margin-bottom:.75rem}img.formula-inline{margin-top:.25rem;margin-bottom:.25rem}img.center{-o-object-position:center;object-position:center;margin-left:auto;margin-right:auto}img.small{width:33.333333%;margin-left:1.25rem}img.border{border:1px solid #021a40;margin-top:.5rem;margin-bottom:.75rem}img.iw600{height:auto;width:auto;max-width:600px}img.iw500{height:auto;width:auto;max-width:500px}img.iw300{height:auto;width:auto;max-width:300px}img.iw200{height:auto;width:auto;max-width:200px}img.iw100{height:auto;width:auto;max-width:100px}code{font-size:smaller}pre code{font-size:15px}pre code:not(.line-number){background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;clear:both;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:840px;max-width:840px;overflow:scroll;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33}div.code-starter>pre code{border-left:3px solid #fdff44!important;background-image:radial-gradient(rgba(0,150,0,.75),#000 120%);color:#fff;font:.9rem Inconsolata,monospace}div.code-starter>pre code::after{content:"\a$_"}.tab{font-size:1rem;border-color:#8c6728}.tab-content{max-height:0;max-width:100%;transition:max-height .35s}.tab input:checked~.tab-content{max-height:100vh}.tab input:checked+label{padding:1rem;border-left-width:2px;border-color:#6574cd;background-color:#f8fafc;color:#6574cd}.tab label::after{float:right;right:0;top:0;display:block;width:1em;height:1.5em;line-height:1.5;font-size:1rem;text-align:center;transition:all .35s}.tab input[type=checkbox]+label::after{content:"+";font-weight:700;border-width:1px;border-radius:9999px;border-color:#8c6728}.tab input[type=checkbox]:checked+label::after{transform:rotate(315deg);background-color:#6574cd;color:#f8fafc}</style>
<script src="https://kit.fontawesome.com/7efc4bcee2.js" crossOrigin="anonymous"></script>
<script>
    let stateCheck = setInterval(function(){
      if (document.readyState === 'complete') {
        clearInterval(stateCheck);
        let s1 = document.getElementById('start');
        // console.log('doc is ready', s1);
        if (s1) {
           s1.setAttribute('tabindex', '-1');
           s1.focus(); 
           s1.scrollIntoView({behavior: 'smooth'}); 
           setTimeout(function(){s1.blur()}, 500);
           // console.log('focus set');
        }
      }
    }, 200);
    </script>
</head><body class="lesson"><div class="main-content lesson bg-gray-200 text-black p-1 pl-3 font-serif"><div class="md-inner">
<div id="start" class="section">&nbsp;</div><h1 class="section" id="section4">Distance Formulas</h1><p class="new">With both the L1 and L2 Norms defined, we also have our first two distance
 formulas (which work for any number of dimensions).  In these examples, we
 are assuming that each vector contains the relevent attributes of one instance.</p><h2 id="l1taxicab-distance">L1/Taxicab Distance</h2><h3 id="l1-distance-norm">L1 Distance Norm</h3><p class="new">The L1 <em>distance</em> norm is also called Manhattan (or Taxicab) norm. It is the sum of the
 absolute difference of the components of the vector.  In the image below, the
  distance is simply <img alt="math?math=%5Clarge%20%7Cx_2%20-%20x_1%7C%20%2B%20%7Cy_2%20-%20y_1%7C" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20%7Cx_2%20-%20x_1%7C%20%2B%20%7Cy_2%20-%20y_1%7C" style="display:inline-block"/></p><img alt="L1.png" class="border iw300 center" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/ml/distance/html/L1.png"/><p class="new">We can express this in vector notation as</p><img alt="math?math=%5CLarge%20L1_%7Bnorm%7D%3D%7B%5Cleft%5CVert%7B%7D%7BD%7D%5Cright%5CVert%7B%7D%7D_1%20%3D%20%5Csum_%7Bi%3D1%7D%5En%7Cu_i-v_i%7C" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20L1_%7Bnorm%7D%3D%7B%5Cleft%5CVert%7B%7D%7BD%7D%5Cright%5CVert%7B%7D%7D_1%20%3D%20%5Csum_%7Bi%3D1%7D%5En%7Cu_i-v_i%7C"/><h2 id="l2euclidean-distance-">L2/Euclidean Distance </h2><h3 id="l2-distance-norm">L2 Distance Norm</h3><p class="new">The L2 <em>distance</em> norm (also called the Euclidean norm) is the square root
 of sum of the squared differences:</p><img alt="L2.png" class="border iw300 center" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/ml/distance/html/L2.png"/><p class="new">This is the familiar <img alt="math?math=%5Clarge%20a%5E2%20%2B%20b%5E2%20%3D%20c%5E2" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20a%5E2%20%2B%20b%5E2%20%3D%20c%5E2" style="display:inline-block"/> formula. We can express this in 
vector notation as </p><img alt="math?math=%5CLarge%20L2%3D%7B%5Cleft%5CVert%7B%7D%7BD%7D%5Cright%5CVert%7B%7D%7D_2%20%3D%20%5Csqrt%7B%5Csum_%7Bi%3D1%7D%5En%7B(u_i-v_i)%7D%5E2%7D" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20L2%3D%7B%5Cleft%5CVert%7B%7D%7BD%7D%5Cright%5CVert%7B%7D%7D_2%20%3D%20%5Csqrt%7B%5Csum_%7Bi%3D1%7D%5En%7B(u_i-v_i)%7D%5E2%7D"/><p class="new">Note that these quantities are defined for <em>any number</em> of dimensions.</p><h2 id="cosine-distance-">Cosine Distance </h2><p class="new">Although we have explained the cosine metric before (e.g. tf•idf), it's a good 
time to discuss it in greater detail. The cosine distance (or similarity) 
metric uses the L2 Norm in its formula. In the image below, the angle between the two
 vectors (𝜭) is the measurement we are interested in.  </p><img alt="COS.png" class="border iw300 center" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/ml/distance/html/COS.png"/><p class="new">By using some geometric properties (and who doesn't long for their high-school 
geometry class), we can find the <code>cos(𝜭)</code> using the the formula below:</p><img alt="math?math=%5CLarge%20cos(%5Ctheta)%20%3D%20%5Cfrac%7B%5Csum_%7Bi%3D1%7D%5En%7B(u_i%20%5Ctimes%20v_i)%7D%7D%7B%5Csqrt%7B%5Csum_%7Bi%3D1%7D%5En%7Bu_i%7D%5E2%7D%20%5Csqrt%7B%5Csum_%7Bi%3D1%7D%5En%7Bv_i%7D%5E2%7D%7D" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20cos(%5Ctheta)%20%3D%20%5Cfrac%7B%5Csum_%7Bi%3D1%7D%5En%7B(u_i%20%5Ctimes%20v_i)%7D%7D%7B%5Csqrt%7B%5Csum_%7Bi%3D1%7D%5En%7Bu_i%7D%5E2%7D%20%5Csqrt%7B%5Csum_%7Bi%3D1%7D%5En%7Bv_i%7D%5E2%7D%7D"/><p class="new">If you look carefully, you will notice the denominator is just the L2norm for u an v</p><img alt="math?math=%5CLarge%20cos(%5Ctheta)%20%3D%20%5Cfrac%7B%5Csum_%7Bi%3D1%7D%5En%7B(u_i%20%5Ctimes%20v_i)%7D%7D%7B%5Cleft%5CVert%7B%7D%7Bu%7D%5Cright%5CVert%7B%7D_2%20%5Cleft%5CVert%7B%7D%7Bv%7D%5Cright%5CVert%7B%7D_2%7D" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20cos(%5Ctheta)%20%3D%20%5Cfrac%7B%5Csum_%7Bi%3D1%7D%5En%7B(u_i%20%5Ctimes%20v_i)%7D%7D%7B%5Cleft%5CVert%7B%7D%7Bu%7D%5Cright%5CVert%7B%7D_2%20%5Cleft%5CVert%7B%7D%7Bv%7D%5Cright%5CVert%7B%7D_2%7D"/><h3 id="dot-product">Dot Product</h3><p class="new">In linear algebra, the dot product (also called the <em>inner product</em>) of two vectors 
is the result of summing the component-by-component multiplication:</p><img alt="math?math=%5CLarge%20u%20%5Ccdot%20v%20%3D%20(u_1%2C%20..%20%2C%20u_n)%20%5Ccdot%20(v_1%2C%20..%20%2C%20v_n)%20%3D%20u_1%20v_1%20%2B%20..%20%20%2B%20u_n%20v_n" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20u%20%5Ccdot%20v%20%3D%20(u_1%2C%20..%20%2C%20u_n)%20%5Ccdot%20(v_1%2C%20..%20%2C%20v_n)%20%3D%20u_1%20v_1%20%2B%20..%20%20%2B%20u_n%20v_n"/><pre><code>u = [2, 4, 6,]
v = [3, 5, 7,]
u•v = (2*3) + (4*5) + (6*7)
u•v = 6 + 20 + 42 = 68</code></pre><p class="new">So now we can rewrite the cos formula as
<img alt="math?math=%5CLarge%20cos(%5Ctheta)%20%3D%20%5Cfrac%7B%20u%20%5Ccdot%20v%20%7D%7B%20%5C%7C%20u%20%5C%7C%20%5C%7C%20v%20%5C%7C%20%7D" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20cos(%5Ctheta)%20%3D%20%5Cfrac%7B%20u%20%5Ccdot%20v%20%7D%7B%20%5C%7C%20u%20%5C%7C%20%5C%7C%20v%20%5C%7C%20%7D"/> </p><p class="new">In fact, looking even closer, we can replace everything with dot products:</p><img alt="math?math=%5CLarge%20%5Cfrac%7Bu%20%5Cbullet%20v%7D%7B%20%5Csqrt%7Bu%20%5Cbullet%20u%7D%20%5Csqrt%7Bv%20%5Cbullet%20v%7D%7D" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20%5Cfrac%7Bu%20%5Cbullet%20v%7D%7B%20%5Csqrt%7Bu%20%5Cbullet%20u%7D%20%5Csqrt%7Bv%20%5Cbullet%20v%7D%7D"/><p class="new">The following code demonstrates this (not a proof :)</p></div></div></body></html>