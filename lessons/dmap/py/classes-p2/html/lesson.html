<!DOCTYPE html><html lang='en'><head><title>Python Classes (part 2)</title><meta charset="utf-8"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}input{font-family:inherit;font-size:100%;line-height:1.15;margin:0}input{overflow:visible}[type=checkbox]{box-sizing:border-box;padding:0}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1,h2,h3,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e2e8f0}img{border-style:solid}input:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder{color:#a0aec0}input::-moz-placeholder{color:#a0aec0}h1,h2,h3{font-size:inherit;font-weight:inherit}input{padding:0;line-height:inherit;color:inherit}code,pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-gray-300{--bg-opacity:1;background-color:#e2e8f0;background-color:rgba(226,232,240,var(--bg-opacity))}.bg-orange-300{--bg-opacity:1;background-color:#fbd38d;background-color:rgba(251,211,141,var(--bg-opacity))}.bg-green-200{--bg-opacity:1;background-color:#c6f6d5;background-color:rgba(198,246,213,var(--bg-opacity))}.bg-blue-200{--bg-opacity:1;background-color:#bee3f8;background-color:rgba(190,227,248,var(--bg-opacity))}.bg-blue-300{--bg-opacity:1;background-color:#90cdf4;background-color:rgba(144,205,244,var(--bg-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-gray-500{--border-opacity:1;border-color:#a0aec0;border-color:rgba(160,174,192,var(--border-opacity))}.border-indigo-500{--border-opacity:1;border-color:#667eea;border-color:rgba(102,126,234,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border-l-2{border-left-width:2px}.border-t{border-top-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.justify-center{justify-content:center}.justify-around{justify-content:space-around}.float-left{float:left}.clearfix:after{content:"";display:table;clear:both}.font-sans{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}.font-serif{font-family:Georgia,Cambria,"Times New Roman",Times,serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-64{height:16rem}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.text-base{font-size:1rem}.text-xl{font-size:1.25rem}.leading-none{line-height:1}.leading-normal{line-height:1.5}.m-2{margin:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.mt-1{margin-top:.25rem}.mr-1{margin-right:.25rem}.mt-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.mt-6{margin-top:1.5rem}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.object-contain{-o-object-fit:contain;object-fit:contain}.opacity-0{opacity:0}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-3{padding:.75rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pl-3{padding-left:.75rem}.absolute{position:absolute}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.shadow-inner{box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.06)}.text-left{text-align:left}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.whitespace-no-wrap{white-space:nowrap}.w-1\/2{width:50%}.w-2\/3{width:66.666667%}.w-full{width:100%}@media (min-width:768px){.md\:w-2\/3{width:66.666667%}}.text-tiny{font-size:.5rem!important}body{color:#000!important;font-size:1.25rem!important}.main-content{max-width:900px}.lesson{padding-left:15px!important;padding-right:10px!important;--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.main-content,html{font-family:Arial,Georgia,Verdana,"Times New Roman"!important}.lesson-footer-card,.lesson-overview-card{font-family:"Times New Roman"!important}.lesson-footer{margin-top:50px;margin-top:20px}.lesson ul{list-style-position:inside;list-style-type:none;margin-left:1em}.lesson ul li{padding-left:1em;padding-right:5px}.lesson ul li::before{content:"‚Ä¢";padding-right:5px}span{white-space:nowrap}p.new{padding-top:0;padding-bottom:.5em}p.new+p{padding-top:.5em}h1,h2,h3{font-weight:700;margin-top:.25em!important;margin-bottom:.05em!important;font-family:Georgia,Cambria,"Times New Roman",Times,serif!important}h1{font-size:2em!important;clear:both;color:#000!important}div+h1,h2{margin-top:0!important}h2{margin-top:.5em!important;font-size:1.5em!important;clear:both;color:#8b0000!important}h3{font-size:1.25em!important;clear:both;color:#006400!important}ul{margin-bottom:30px}.title-text{font-size:2rem}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.5)}code{font-size:smaller}pre code{font-size:15px}pre code:not(.line-number){background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;clear:both;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:840px;max-width:840px;overflow:scroll;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33}div.code-starter>pre code{border-left:3px solid #fdff44!important;background-image:radial-gradient(rgba(0,150,0,.75),#000 120%);color:#fff;font:.9rem Inconsolata,monospace}div.code-starter>pre code::after{content:"\a$_"}.tab{font-size:1rem;border-color:#8c6728}.tab-content{max-height:0;max-width:100%;transition:max-height .35s}.tab input:checked~.tab-content{max-height:100vh}.tab input:checked+label{padding:1rem;border-left-width:2px;border-color:#6574cd;background-color:#f8fafc;color:#6574cd}.tab label::after{float:right;right:0;top:0;display:block;width:1em;height:1.5em;line-height:1.5;font-size:1rem;text-align:center;transition:all .35s}.tab input[type=checkbox]+label::after{content:"+";font-weight:700;border-width:1px;border-radius:9999px;border-color:#8c6728}.tab input[type=checkbox]:checked+label::after{transform:rotate(315deg);background-color:#6574cd;color:#f8fafc}</style>
<script src="https://kit.fontawesome.com/7efc4bcee2.js" crossOrigin="anonymous"></script>
<script>
    let stateCheck = setInterval(function(){
      if (document.readyState === 'complete') {
        clearInterval(stateCheck);
        let s1 = document.getElementById('start');
        // console.log('doc is ready', s1);
        if (s1) {
           s1.setAttribute('tabindex', '-1');
           s1.focus(); 
           s1.scrollIntoView({behavior: 'smooth'}); 
           setTimeout(function(){s1.blur()}, 500);
           // console.log('focus set');
        }
      }
    }, 200);
    </script>
</head><body class="lesson"><div class="main-content lesson bg-gray-200 text-black p-1 pl-3 font-serif"><div class="md-inner">
<div id="start" class="section">&nbsp;</div><h1 class="overview"></h1><div class="lesson-overview bg-gray-200 flex justify-center"><div class="text-center px-4 py-2 m-2"><div class="lesson-overview-card displaycard bg-blue-200 max-w-sm rounded overflow-hidden shadow-lg"><div>¬†</div><img alt="Text" class="object-contain h-64 w-full" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p2/html/PythonFiles-sm.png"/><div class="px-6 py-4"><div class="title-text text-center leading-none font-bold text-xl">Python Classes (part 2)</div><p class="text-center mt-2 text-gray-800 text-xl">Building User Defined Types</p><div class="text-gray-700 text-base">¬†</div><div class="text-center mb-3"><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#info490</span><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#python</span></div><div class="flex border-t border-solid border-gray-500 shadow-inner justify-around bg-blue-300"><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap">D.MÔπ†üêç</span></div><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap"><strong>Version:</strong> <!-- -->SP21</span></div></div><div class="text-gray-700 mt-1 text-center text-tiny">All Rights Reserved</div></div></div></div><div class="text-center px-4 py-2 m-2 w-1/2"><div class="displaycard bg-gray-200 max-w-sm rounded overflow-hidden shadow-lg"><div class="px-6 py-4 text-left"><div class="text-center font-bold text-xl">Python Classes (part 2)<br/><div><span>prerequisites</span><div class="text-center text-xs mb-2">(start only after finishing)</div><p class="max-w-sm text-gray-800 text-sm">‚¶ø <strong>classes-p1</strong></p></div></div></div><div class="px-6 py-4 text-left text-gray-800"><div class="text-center font-bold text-xl">Colab Notes</div><p class="max-w-sm text-sm">1. <strong>Copy</strong> this notebook <img alt="copy2drive.png" class="inline-block" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p2/html/copy2drive.png"/></p><p class="max-w-sm text-sm">2. <strong>Update</strong> the <strong><code>NET_ID</code></strong> in the notebook</p><p class="max-w-sm text-gray-800 text-sm">3. <strong>Hit ‚ñ∂Ô∏è¬†</strong> to install the INFO 490 IDE</p><div class="text-center font-bold text-xl">¬†</div><div class="text-center font-bold text-xl">Jupyter/PyCharm Notes</div><p class="max-w-sm text-gray-800 text-sm text-left">The testing framework does <strong>not work</strong> (at this time) for Jupyter  notebooks or local code development.</p></div></div></div></div><h1 class="section" id="section1">Python Classes (part 2) </h1><h2 id="building-user-defined-types-">Building User Defined Types </h2><h3 id="back-to-class-everyone">Back to Class, everyone</h3><p class="new">In the previous lesson you built 3 classes: <code>Point2D</code>, <code>Line</code>, <code>GeneralLine</code>. 
I hope you can see the <strong>huge</strong> benefits of encapsulating all the data, logic 
and methods into classes. Without classes, we would have a large set of functions 
that would require a lot of remembering which functions belong together.</p><p class="new">Go ahead and copy your code from the previous lesson for the classes <code>Point2D</code> 
and <code>Line</code>: </p><div class="ide code-starter clearfix"><pre><code># place code here from previous lesson</code></pre></div><h2 id="an-issue-with-privacy">An Issue with Privacy</h2><p class="new">With <em>your</em> code in place, let's run the following and see if we can spot a problem:</p><div class="ide code-starter clearfix"><pre><code>def graffiti():
    import LessonUtil as Util
    
    p1 = Point2D(4,5)
    p2 = Point2D(10,8)
    
    lineA = Line(p1, p2)
    Util.plot_lines([lineA])
    print(lineA.get_slope())

    p2.x = -7.4
    Util.plot_lines([lineA])
    print(lineA.get_slope())
    
graffiti()</code></pre></div><p class="new">What happened? Do you see the issue?</p><p class="new">We created a line (and plotted it), then the <em>client</em> code (the one that is 
using the library/module/class <em>changed</em> the <code>x</code> value for a <strong><em>point</em></strong>. This 
had a strange side effect in that the <strong><em>line</em></strong> changed as well! </p><p class="new">Pause and consider what happened and why it <em>could</em> be bad.</p><p class="new">The user of the <code>Point2D</code> instance, modified the internal data of the instance, 
<img alt="emoki.png" class="float-left mr-1" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p2/html/emoki.png"/>but neither the line nor the point instance were able to defend themselves. 
This is the worst kind of code graffiti. Be sure you understand the issue. 
It's bad enough that the data for the point instance was modified, 
but it also affected the line instance. </p><p class="new">This is a problem and we <strong><em>need</em></strong> to fix it.</p><h2 id="decorating-privacy">Decorating Privacy</h2><p class="new">The major issue is that a line's <code>slope</code> is based on the <code>x</code> and <code>y</code> values of the
 points that make up a line. If a point value is changed, ideally, any
 calculation done that depends on the new value, needs to be updated as well.  </p><p class="new">In most cases, it's easiest just to 'wall off' the code to prevent such 
invasions of privacy.</p><p class="new">The concept of variable <em>visibility</em> is about the access rights to a variable. 
We have seen function visibility with its local variables. Any variable defined in a
 function is visible <em>only</em> for that function (i.e. function visibility). For 
a class, a variable's <strong>privacy</strong> determines what others can <em>read</em> or <em>write</em> to the attributes. </p><p class="new"><strong><em>Encapsulation</em></strong> is supposed to help us with this kind of problem. Many
 object oriented (OO for short) languages (e.g. Java, C++) provide language
 constructs to mark data with a certain level of privacy. </p><p class="new">Unfortunately, it requires a bit more work to enforce privacy in Python. As a
 general rule, Python uses conventions that it expects software engineers to follow:</p><ul><li>name all 'private' attributes with a leading underscore (e.g. <code>self._x</code>)</li><li>add getters/setters methods  (e.g. <code>get_x()</code>, <code>set_x(new_value)</code>)</li><li>use a property decorator</li></ul><p class="new">Let's go over each of the options in detail:</p><h3 id="add-a-leading--your-attributes">Add a leading <code>_</code> your attributes</h3><p class="new">If a variable/attribute has a leading <code>_</code> it's <strong>not</strong> meant to be used outside
 of the class. This is a Python <u>convention</u> and it is not enforced; just bad
 practice to access them:</p><div class="ide code-starter clearfix"><pre><code>class Point2D(object):
    def __init__(self, x, y):
      self._x = x
      self._y = y

    def __repr__(self):
       return "x:{:.2f}, y:{:.2f}".format(self._x, self._y)

p1 = Point2D(10,20)

# this works, but goes against Python conventions
p1._x = 1000 

# this actually adds new data to p1 instance
p1.x = 100   
print(p1)</code></pre></div><p class="new">As noted, <code>p1.x</code> is allowed, but it's actually adding new data to the
 instance.</p><h3 id="add-getterssetters-methods">Add getters/setters methods</h3><p class="new">You can also add methods that <em>get</em> values (for reading) or <em>set</em> values (for
 writing).  This provides a public API to the class that you are offering to
 those who use your code.  The downside is that it requires a bit more code
 to write.</p><div class="ide code-starter clearfix"><pre><code>class Point2D(object):
    def __init__(self, x, y):
      self._x = x
      self._y = y
      
    def get_x(self):
      return self._x

    def set_x(self, x):
      self._x = x

    def get_y(self):
      return self._y

    def __repr__(self):
       return "x:{:.2f}, y:{:.2f}".format(self._x, self._y)

p1 = Point2D(10,20)

# get some data
print(p1.get_x())

# set some data
p1.set_x(100)
print(p1)

# still legal, but not a good idea
# adds a new data to p1 instance
p1.x = 100  
print(p1)</code></pre></div><h1 class="section" id="section2">Python Decorators</h1><p class="new">Although we will have a separate lesson on decorators, let's go over some
 basics. Decorators are <em>functions</em> that wrap around another function, method or even class.
A decorator adds capability to the thing it is wrapping.  A decorator should
 never affect the core functionality.  It simply 'decorates' or adds some
 flourish.</p><p class="new">In Python, a decorator uses the <code>@</code> syntax:</p><pre><code>@some_decorator</code></pre><p class="new">The name of the decorator (e.g. <code>some_decorator</code>) is just a Python function
 that will wrap the item being decorated. Decorators are a way embellish a 
class/methods and add functionality but without having to write additional code.  </p><p class="new">In a later lesson, we can learn how to create our own decorators, for now we will 
go over a few common Python decorators.</p><h2 id="decorating-your-attributes">Decorating your attributes</h2><p class="new">The <em>best</em> way to solve the attribute get/set issue is to use Python
 <strong>decorators</strong>. Decorated attributes are named <em>properties</em>.</p><h3 id="example-of-read-only-properties-">Example of read-only properties </h3><p class="new">Classes can set up attributes to be read-only or allow both reading and writing. 
The following shows how to set a property to be read-only:</p><pre><code>class Point2D(object):

    # init method not shown

    # y is read only
    @property
    def y(self):
      return self._y
      
    # allow reading
    @property
    def x(self):
      return self._x</code></pre><p class="new">By using the <code>.setter</code> decorator, you can set up a property to allow writes
 as well.</p><pre><code>class Point2D(object):

    # init method not shown

    # allow writing
    @x.setter
    def x(self, new_x):
      self._x = new_x</code></pre><p class="new">Here's the full example to experiment with:</p><div class="ide code-starter clearfix"><pre><code>class Point2D(object):

    def __init__(self, x, y):
      self._x = x
      self._y = y
    
    # y is read only
    @property
    def y(self):
      return self._y

    # allow reading
    @property
    def x(self):
      return self._x

    # allow writing
    @x.setter
    def x(self, new_x):
      self._x = new_x

    def __repr__(self):
       # self.x is now using the getter
       return "x:{:.2f}, y:{:.2f}".format(self.x, self.y)</code></pre></div><p class="new">Be sure to test the following code:</p><pre><code>p1 = Point2D(10,20)
print(p1)

# is this allowed?
print(p1.x)  

# is this allowed?
p1.x = 100   
print(p1)

# is this allowed ?
p1.y = 200

# is this allowed ?
p1._x = 1000   
print(p1)</code></pre><p class="new">Make sure any illegal code is commented out.</p><div class="ide code-starter clearfix"><pre><code></code></pre></div><h2 id="fixing-the-issue">Fixing the Issue</h2><p class="new">As a reminder, the issue of privacy was introduced using the following example:</p><pre><code>p1 = Point2D(4,5)
p2 = Point2D(10,8)
lineA = Line(p1, p2)
plot_lines([lineA])

p2.x = -7.4</code></pre><p class="new">There's a couple of simple (and a few complex) ways to address this issue:</p><ul><li>make the <code>Point2D</code> class have read-only attributes (a good idea)</li><li>the <code>Line</code> class could copy the points. This is a technical point, but in
Python, when you assign an <em>instance</em> to a variable, you are not getting a
copy of that <em>instance</em>. Python provides methods to do this but since <code>Point2D</code>
is so simple, the <code>Line</code> class could just create new points.</li></ul><h3 id="stopping-bad-behavior">Stopping Bad Behavior</h3><p class="new">There are additional ways to prevent someone from writing to attribute 
(e.g. <code>p1._x = 1000</code>); however, the additional work to do so is usually not done.</p><p class="new">It's usually buyer beware and a sign of poor programming if someone is messing with 
an instance's privacy.</p><h2 id="decorators-for-static-methods">Decorators for Static Methods</h2><p class="new">Every <em>method</em> we have seen has looked like this:</p><pre><code>a = SomeCoolClass()
a.do_something_better()</code></pre><p class="new">Where <code>do_something_better</code> is a <em>method</em> called on an instance of
 <code>SomeCoolClass</code>.  When <code>do_something_better</code> is called, Python will pass in
 the instance that is calling the method:</p><pre><code>def do_something_better(self):
   pass</code></pre><p class="new">However, there are times when you want a method that provides some helper
 functionality but isn't tied to a specific instance.  These methods are
 called <em>static</em> methods.  They should never rely on the state of the class instance.
You could always move a static method outside of the class to achieve the
 same effect, but it's put <em>inside</em> the class to indicate that it provides
 some sort of utility for all instances -- it's semantically related. </p><p class="new">Static methods are marked (or created) using the <code>@staticmethod</code> decorator.</p><p class="new">Here's an example. Assume you have created a <code>Person</code> class, but you want to
 provide the capability to test if someone could create a <code>Person</code> instance.</p><p class="new">In this case, a <code>Person</code> must have two names.</p><div class="ide code-starter clearfix"><pre><code>class Person(object):

    def __init__(self, name):
        parts = name.split(' ')
        self.first  = parts[0]
        self.second = parts[1]
        
    @staticmethod
    def is_full_name(name):
        names = name.split(' ')
        return len(names) &gt; 1

Person.is_full_name('Michael Haberman')
Person.is_full_name('Mike')</code></pre></div><p class="new">Notice that the class name was used to access the static method.  And the
 method <code>is_full_name</code> doesn't rely on a specific instance.</p><h2 id="decorators-for-static-class-factories">Decorators for Static Class Factories</h2><p class="new">Another useful decorator is <code>@classmethod</code>. Sometimes you want the class to
 provide a way to create instances for you.  </p><p class="new">In the next example, note how the variable <code>cls</code> is used to create the instance.
For <code>@classmethod</code>s, the class is passed into the method as the first argument.</p><div class="ide code-starter clearfix"><pre><code>class BetterPerson(object):

    def __init__(self, f_name, l_name):
        self.first = f_name
        self.second = l_name

    def __repr__(self):
        return self.first + ' ' + self.second

    @classmethod
    def from_name(cls, name):
        names = name.split(' ')
        person = cls(names[0], names[-1])
        return person

print(BetterPerson.from_name('Michael Haberman'))
print(BetterPerson.from_name('Michael'))
print(BetterPerson.from_name('Michael E Haberman'))
print(BetterPerson.from_name(''))</code></pre></div><p class="new">If there are several ways to create an instance, providing static factories solves 
the problem of not needing to manage many parameters in the <code>init</code> method (i.e. constructor).
More on this will be discussed in the lesson section.</p><div class="ide code-starter clearfix"><pre><code>class BetterPerson(object):

    def __init__(self, f_name, l_name):
        self.first = f_name
        self.second = l_name

    def __repr__(self):
        return self.first + ' ' + self.second

    @classmethod
    def from_name(cls, name):
        names = name.split(' ')
        person = cls(names[0], names[-1])
        return person

    @classmethod
    def make_people(cls, names):
        return [cls.from_name(n) for n in names]

group = BetterPerson.make_people(['Mike H', 'Peter B', 'Mary K'])
print(group)</code></pre></div><p class="new">Note that the last line could also have been written as:</p><pre><code>        return [BetterPerson.from_name(n) for n in names]</code></pre><p class="new">Here's a quick review of the syntax:</p><pre><code>class MyClass:

    def method(self):
        return 'instance method called', self

    @classmethod
    def classmethod(cls):
        return 'class method called', cls

    @staticmethod
    def staticmethod():
        return 'static method called'</code></pre><div class="font-sans container mt-1 mb-4 "><p>üéóBefore you go, you should <strong>know</strong>:</p><div class="w-2/3 md:w-2/3"><div class="shadow-md"><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-0" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-0"><span> decorators for getters setters </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-1" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-1"><span> multi valued constructors </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3"><span>see lesson</span></p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-2" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-2"><span> decorators for factories </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div></div></div></div><h1 class="section" id="section3">Lesson Assignment</h1><h2 id="multiple-constructors">Multiple Constructors</h2><p class="new">Instead of using static factory methods (i.e. <code>@classmethod</code>), another option
 is add additional parameters to the constructor.</p><p class="new">Some languages allow you to create different versions of the class
 constructor so that it an instance can be created using different types of
 parameters.  Python only allows a single <code>__init__</code> method. So you need to
 manage the ability to handle multiple parameters to mimic this functionality.</p><p class="new">In the example below, a <code>BetterPerson</code> could also be created from another instance:</p><pre><code>    def __init__(self, f_name=None, l_name=None, clone=None):
        if clone is None:
            self.first = f_name
            self.second = l_name
        else:
            self.first = clone.first
            self.second = clone.second</code></pre><p class="new">The designer of the class assumes either <code>clone</code> is not None or that both
 <code>f_name</code> and <code>l_name</code> are not None. Once that is done, you can now 
create <code>Better</code><em>People</em> in multiple ways:</p><pre><code>me = BetterPerson.from_name('Michael Haberman')
better_me = BetterPerson(clone=me)
print(better_me)</code></pre><h2 id="a-better-line-part-1">A Better Line (part 1)</h2><p class="new">For the <code>Line</code> class, we created a line (actually a line segment) by using 2 points:</p><pre><code>class Line(object):
  def __init__(self, p1, p2):
    self.p1 = p1
    self.p2 = p2

    self.slope = ... 
    self.y0 = ... 

  # ... more code
    
p1 = Point2D(4,5)
p2 = Point2D(10,8)
line = Line(p1, p2)</code></pre><p class="new">However, it would be useful to allow a <code>Line</code> to be constructed using a <code>slope</code> 
and a <code>y</code> intercept as well:</p><pre><code>line2 = Line(slope=0.5, y0=3.0)</code></pre><p class="new">The easiest way to fix this is to add the necessary named parameters to 
the <code>__init__</code> method.</p><p class="new">Update your <code>Line</code> class so one can create lines using either 2 points or
 using a slope and y intercept value.</p><p class="new">The parameters must be named:</p><ul><li><code>p1</code> the first point</li><li><code>p2</code> the second point</li><li><code>slope</code> the slope</li><li><code>y0</code> the y intercept</li></ul><p class="new">Does order matter if using named parameters?</p><p class="new">If a <code>Line</code> is ever created without any parameters, assign 0 to both the
 slope and the y intercept values for the line instance.</p><p class="new">Feel free to move your <code>Line</code> code here (or re-implement it):</p><div class="ide code-starter clearfix"><pre><code></code></pre></div><h2 id="a-better-line-part-2">A Better Line (part 2)</h2><h3 id="line-printing">Line Printing</h3><p class="new">Let's add a bit of functionality to the <code>Line</code> class:</p><ul><li>remove the <code>distance</code> method</li><li>add <code>__repr__</code> method so a line can be printed out:</li></ul><pre><code>p1 = Point2D(4, 5)
p2 = Point2D(10, 8)

lineA = Line(p1=p1, p2=p2)
print(lineA)</code></pre><p class="new">Would print:</p><pre><code>0.50, 3.00</code></pre><h3 id="static-line-distance">Static Line Distance</h3><p class="new">Use decorators to add a static method to <code>Line</code> such that the distance between 
a point and a line can be calculated.</p><ul><li>name the method <code>distance_to_point</code></li><li>it has a <code>line</code> parameter and a <code>point</code> parameter in that order</li></ul><p class="new">The following should work</p><pre><code>p3 = Point2D(0, 0)
print('d', Line.distance_to_point(lineA, p3))</code></pre><h3 id="lets-create-a-more-private-line">Let's create a more private line:</h3><ul><li>use decorators to insist that both the slope and the y intercept can only be read by the caller.</li><li>remove <code>get_slope</code> and <code>get_y0</code></li></ul><p class="new">The following should no longer work:</p><pre><code>lineA.slope = -10.25</code></pre><p class="new">Although <code>lineA._slope = -10.25</code> would still work, it would announce to the
 world that you violating the privacy of an instance.</p><h1>Test and Submit</h1><p>Once you have finished, you can download your code (via <code>ide.tester</code>) and upload that file to Gradescope (find lesson with tag <strong>classes-p2</strong>).</p><div class="my-4"><pre><code><strong># to list the tests available</strong><br/>print(ide.tester.list_tests())<br/><strong># to perform a specific test</strong><br/>print(ide.tester.test_functionality('name of test'))<br/><strong># to test your code (either works)</strong><br/>print(ide.tester.test_notebook())<br/>print(ide.tester.test_notebook(verbose=True))<br/><strong># to prepare and download your code</strong><br/>ide.tester.download_solution()</code></pre></div><div class="lesson-footer flex bg-gray-200 justify-center"><div class="lesson-footer-card displaycard bg-blue-200 border-t border-gray-400 max-w-2xl rounded overflow-hidden shadow-lg"><div class="px-6 py-4"><div class="title-text text-center font-bold text-xl">Python Classes (part 2)</div><p class="text-center text-gray-800 text-xl">Building User Defined Types</p><div class="text-center mt-6 text-xl"><i aria-hidden="true" class="fas fa-tags"></i> any questions on Piazza with <span class="font-bold">classes-p2</span></div><div class="text-gray-700 text-base">¬†</div><div></div><div></div><div class="flex mt-4 border-t border-solid border-gray-500 justify-around bg-gray-200"><div class="text-gray-700 text-center px-4 m-2 text-sm">D.MÔπ†üêç</div><div class="text-gray-700 text-center px-4 m-2 text-sm"><strong>Version:</strong> <!-- -->SP21</div></div><div class="text-gray-700 mt-2 text-center text-sm font-bold">All Rights Reserved Michael Haberman</div><div class="text-gray-700 text-center text-sm">Do not distribute this notebook</div></div></div></div><div>¬†</div><div class="ide code-starter clearfix"><pre><code># print(ide.tester.test_notebook()) 
# print(ide.tester.test_notebook(verbose=True)) 

# once you are ready -- run this 
# ide.tester.download_solution() 
</code></pre></div></div></div></body></html>