<!DOCTYPE html><html lang='en'><head><title>Estimating Location</title><meta charset="utf-8"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}input{font-family:inherit;font-size:100%;line-height:1.15;margin:0}input{overflow:visible}[type=checkbox]{box-sizing:border-box;padding:0}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1,h2,h3,h4,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e2e8f0}img{border-style:solid}input:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder{color:#a0aec0}input::-moz-placeholder{color:#a0aec0}h1,h2,h3,h4{font-size:inherit;font-weight:inherit}input{padding:0;line-height:inherit;color:inherit}code,pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-gray-300{--bg-opacity:1;background-color:#e2e8f0;background-color:rgba(226,232,240,var(--bg-opacity))}.bg-orange-300{--bg-opacity:1;background-color:#fbd38d;background-color:rgba(251,211,141,var(--bg-opacity))}.bg-green-200{--bg-opacity:1;background-color:#c6f6d5;background-color:rgba(198,246,213,var(--bg-opacity))}.bg-blue-200{--bg-opacity:1;background-color:#bee3f8;background-color:rgba(190,227,248,var(--bg-opacity))}.bg-blue-300{--bg-opacity:1;background-color:#90cdf4;background-color:rgba(144,205,244,var(--bg-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-gray-500{--border-opacity:1;border-color:#a0aec0;border-color:rgba(160,174,192,var(--border-opacity))}.border-indigo-500{--border-opacity:1;border-color:#667eea;border-color:rgba(102,126,234,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border{border-width:1px}.border-l-2{border-left-width:2px}.border-t{border-top-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.justify-center{justify-content:center}.justify-around{justify-content:space-around}.float-left{float:left}.clearfix:after{content:"";display:table;clear:both}.font-sans{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}.font-serif{font-family:Georgia,Cambria,"Times New Roman",Times,serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-64{height:16rem}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.text-base{font-size:1rem}.text-xl{font-size:1.25rem}.leading-none{line-height:1}.leading-normal{line-height:1.5}.m-2{margin:.5rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.mt-6{margin-top:1.5rem}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.object-contain{-o-object-fit:contain;object-fit:contain}.opacity-0{opacity:0}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-3{padding:.75rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pl-3{padding-left:.75rem}.absolute{position:absolute}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.shadow-inner{box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.06)}.text-left{text-align:left}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.whitespace-no-wrap{white-space:nowrap}.w-1\/2{width:50%}.w-2\/3{width:66.666667%}.w-full{width:100%}@media (min-width:768px){.md\:w-2\/3{width:66.666667%}}.text-tiny{font-size:.5rem!important}body{color:#000!important;font-size:1.25rem!important}.main-content{max-width:900px}.lesson{padding-left:15px!important;padding-right:10px!important;--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.main-content,html{font-family:Arial,Georgia,Verdana,"Times New Roman"!important}.lesson-footer-card,.lesson-overview-card{font-family:"Times New Roman"!important}.lesson-footer{margin-top:50px;margin-top:20px}.lesson ul{list-style-position:inside;list-style-type:none;margin-left:1em}.lesson ul li{padding-left:1em;padding-right:5px}.lesson ul li::before{content:"‚Ä¢";padding-right:5px}span{white-space:nowrap}p.new{padding-top:0;padding-bottom:.5em}p.new+p{padding-top:.5em}h1,h2,h3,h4{font-weight:700;margin-top:.25em!important;margin-bottom:.05em!important;font-family:Georgia,Cambria,"Times New Roman",Times,serif!important}h1{font-size:2em!important;clear:both;color:#000!important}div+h1,h2{margin-top:0!important}h2{margin-top:.5em!important;font-size:1.5em!important;clear:both;color:#8b0000!important}h3{font-size:1.25em!important;clear:both;color:#006400!important}h4{font-size:1em!important;clear:both;color:#00008b!important}ul{margin-bottom:30px}.title-text{font-size:2rem}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.5)}img.center{-o-object-position:center;object-position:center;margin-left:auto;margin-right:auto}img.border{border:1px solid #021a40;margin-top:.5rem;margin-bottom:.75rem}img.iw400{height:auto;width:auto;max-width:400px}code{font-size:smaller}pre code{font-size:15px}pre code:not(.line-number){background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;clear:both;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:840px;max-width:840px;overflow:scroll;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33}div.code-starter>pre code{border-left:3px solid #fdff44!important;background-image:radial-gradient(rgba(0,150,0,.75),#000 120%);color:#fff;font:.9rem Inconsolata,monospace}div.code-starter>pre code::after{content:"\a$_"}.tab{font-size:1rem;border-color:#8c6728}.tab-content{max-height:0;max-width:100%;transition:max-height .35s}.tab input:checked~.tab-content{max-height:100vh}.tab input:checked+label{padding:1rem;border-left-width:2px;border-color:#6574cd;background-color:#f8fafc;color:#6574cd}.tab label::after{float:right;right:0;top:0;display:block;width:1em;height:1.5em;line-height:1.5;font-size:1rem;text-align:center;transition:all .35s}.tab input[type=checkbox]+label::after{content:"+";font-weight:700;border-width:1px;border-radius:9999px;border-color:#8c6728}.tab input[type=checkbox]:checked+label::after{transform:rotate(315deg);background-color:#6574cd;color:#f8fafc}</style>
<script src="https://kit.fontawesome.com/7efc4bcee2.js" crossOrigin="anonymous"></script>
<script>
    let stateCheck = setInterval(function(){
      if (document.readyState === 'complete') {
        clearInterval(stateCheck);
        let s1 = document.getElementById('start');
        // console.log('doc is ready', s1);
        if (s1) {
           s1.setAttribute('tabindex', '-1');
           s1.focus(); 
           s1.scrollIntoView({behavior: 'smooth'}); 
           setTimeout(function(){s1.blur()}, 500);
           // console.log('focus set');
        }
      }
    }, 200);
    </script>
</head><body class="lesson"><div class="main-content lesson bg-gray-200 text-black p-1 pl-3 font-serif"><div class="md-inner">
<div id="start" class="section">&nbsp;</div><h1 class="overview"></h1><div class="lesson-overview bg-gray-200 flex justify-center"><div class="text-center px-4 py-2 m-2"><div class="lesson-overview-card displaycard bg-blue-200 max-w-sm rounded overflow-hidden shadow-lg"><div>¬†</div><img alt="Text" class="object-contain h-64 w-full" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds-sm.png"/><div class="px-6 py-4"><div class="title-text text-center leading-none font-bold text-xl">Estimating Location</div><p class="text-center mt-2 text-gray-800 text-xl">Descriptive Statistics in Python</p><div class="text-gray-700 text-base">¬†</div><div class="text-center mb-3"><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#info490</span></div><div class="flex border-t border-solid border-gray-500 shadow-inner justify-around bg-blue-300"><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap">üêç¬†¬†4 D.S.</span></div><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap"><strong>Version:</strong> <!-- -->SP21</span></div></div><div class="text-gray-700 mt-1 text-center text-tiny">All Rights Reserved</div></div></div></div><div class="text-center px-4 py-2 m-2 w-1/2"><div class="displaycard bg-gray-200 max-w-sm rounded overflow-hidden shadow-lg"><div class="px-6 py-4 text-left"><div class="text-center font-bold text-xl">Estimating Location<br/><div><span>prerequisites</span><div class="text-center text-xs mb-2">(start only after finishing)</div><p class="max-w-sm text-gray-800 text-sm">‚¶ø <strong>bootcamp</strong></p><p class="max-w-sm text-gray-800 text-sm">‚¶ø <strong>matplotlib (part 1)</strong></p><p class="max-w-sm text-gray-800 text-sm">‚¶ø <strong>numpy parts 1, 2</strong></p><p class="max-w-sm text-gray-800 text-sm">‚¶ø <strong>pandas part 1</strong></p></div></div></div><div class="px-6 py-4 text-left text-gray-800"><div class="text-center font-bold text-xl">Colab Notes</div><p class="max-w-sm text-sm">1. <strong>Copy</strong> this notebook <img alt="copy2drive.png" class="inline-block" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/copy2drive.png"/></p><p class="max-w-sm text-sm">2. <strong>Update</strong> the <strong><code>NET_ID</code></strong> in the notebook</p><p class="max-w-sm text-gray-800 text-sm">3. <strong>Hit ‚ñ∂Ô∏è¬†</strong> to install the INFO 490 IDE</p><div class="text-center font-bold text-xl">¬†</div><div class="text-center font-bold text-xl">Jupyter/PyCharm Notes</div><p class="max-w-sm text-gray-800 text-sm text-left">The testing framework does <strong>not work</strong> (at this time) for Jupyter  notebooks or local code development.</p></div></div></div></div><h1 class="section" id="section1">Estimating Location </h1><h2 id="descriptive-statistics-central-tendencies">Descriptive Statistics (central tendencies)</h2><img alt="ds1.png" class="float-left mr-2 iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds1.png"/><p class="new">Statistics can be broadly split into two different fields:  <strong>Descriptive</strong> and
 <strong>Inferential</strong>. </p><p class="new">Descriptive statistics are used to organize and summarize data from both 
populations (having the complete dataset that includes all possible cases/instances) 
and samples (those values drawn from a population in an attempt to learn (i.e. infer) 
something about the population).  </p><p class="new">Inferential Statistics is about making predictions or generalizations (educated 
guesses or inferences) about a population and putting bounds of uncertainty on 
those predictions. </p><p class="new">For descriptive statistics, the focus of this lesson, we'll discuss how to 
calculate various summary statistics using Python libraries. In addition to 
the familiar mean, median, mode and variance, we'll discuss other 'statistics' 
that help summarize a dataset. There will be a separate set of lessons on 
inferential statistics.</p><h2 id="welcome-scipy">Welcome SciPy</h2><img alt="ds2.png" class="float-left mr-2 iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds2.png"/><p class="new">In addition to Numpy, Matplotlib and Pandas, we will also use SciPy (pronounced ‚ÄúSigh Pie‚Äù). 
It's a library for mathematics (especially linear algebra), science and engineering. 
We will go over the statistics package inside SciPy. The standard statistics module 
for Python also has many useful functions.</p><h2 id="where-are-we--">Where are We?  </h2><h3 id="estimates-of-location">Estimates of Location</h3><p class="new">Given a dataset, it's nice to know what a typical value might look like -- an 
estimate for where most of the data is located. You probably have heard of these, 
but let's do a quick review of each and show you how to use Python.</p><p class="new">We'll use a dataset of 36 rolls of two statistically perfectly thrown dice:</p><div class="ide code-starter clearfix"><pre><code>import LessonUtil as Util
import numpy as np
import scipy

DATA_PATH = Util.path_for_data('dollar.csv')
rolls = Util.perfect_dice()
print(rolls)
print(len(np.unique(rolls))) # 11 unique rolls</code></pre></div><p class="new">If you plotted this dataset, it would look like the following:
<img alt="ds3.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds3.png"/></p><h1 class="section" id="section2">Mean</h1><p class="new">The mean (or average) is just the sum of the values divided by the number of values:</p><pre><code>def demo_mean(values):
     total = sum(values)
     count = len(values)
     ave = total/count
     print(ave)
demo_mean(rolls)</code></pre><p class="new">Its formula is given below:
<img alt="ds4.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds4.png"/></p><p class="new">You can use Python's statistics library and Numpy:</p><div class="ide code-starter clearfix"><pre><code>import statistics as stats

print(stats.mean(rolls))
print(np.mean(rolls))</code></pre></div><p class="new">It's also easy to use Pandas to get the mean. Take note that both Series and 
DataFrames have a very similar API (i.e. public functions and methods) for doing analysis:</p><div class="ide code-starter clearfix"><pre><code>import pandas as pd

def demo_mean_pd(values):
    r_s  = pd.Series(values)
    r_df = pd.DataFrame({'roll': values})

    print(r_s.mean())
    print(r_df['roll'].mean())

demo_mean_pd(rolls)</code></pre></div><p class="new">As a reminder you can also use Pandas <code>agg</code> or <code>aggregate</code> method to pass in a function. 
Although a bit redundant here, these simple examples allow you to learn alternative 
ways to process data using different APIs.</p><pre><code>    print(r_s.agg(np.mean))</code></pre><h2 id="weighted-mean">Weighted Mean</h2><p class="new">For calculating a mean, each data item contributes equally to the resulting 
statistic. However, you can also calculate a weighted mean (formula given below) 
where each item in your data has a different contribution or weight.  </p><img alt="ds5.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds5.png"/><p class="new">For example, the sum of two dice throws (36 possible outcomes) can be any 
number from 2 to 12. But the probability or weight of each sum occurring is not equal. 
The average function in Numpy can also take a weight array:</p><div class="ide code-starter clearfix"><pre><code>def demo_wmean(values):
    x = np.unique(values)
    w = np.array([1/36,2/36,3/36,4/36,5/36,6/36,5/36,4/36,3/36,2/36,1/36])
    print("{0:.2f}".format(np.average(x, weights=w)))

demo_wmean(rolls)</code></pre></div><p class="new">In this example the weighted mean is the same as the standard mean. But it's 
a very useful calculation, especially if you have relative proportions of your 
data and not the entire dataset.</p><h2 id="trimmed-mean">Trimmed Mean</h2><p class="new">Using a trimmed mean is a good way to drop off a fixed number of values from 
both the low and high end. You can use a trimmed mean to remove the influence of 
extreme values.  The <code>scipy.stats</code> library has a trimmed mean function.   </p><p class="new">The dice example doesn't lend itself to a useful scenario, but imagine you 
had a list of the amount people spent to buy a ticket. That data is in the
 <code>dollar.csv</code> file:</p><div class="ide code-starter clearfix"><pre><code>def demo_tmean():
    df = pd.read_csv(DATA_PATH) # dataframe
    dollars_s = df['dollar']    # series
    print(dollars_s.head())

demo_tmean()</code></pre></div><p class="new">Let's look at the mean:</p><pre><code>    d_ave = np.mean(dollars_s)
    print("mean {0:.2f}".format(d_ave))</code></pre><p class="new">Of course the question is how representative is the mean, $33.40, of the
dataset?  We can get some useful values by looking at the max and min of this dataset:</p><pre><code>    print("low  {0:.2f}".format(min(dollars_s)))
    print("high {0:.2f}".format(max(dollars_s)))</code></pre><p class="new">So given that the mean is so much closer to the minimum than the maximum, it tells 
us the data is a bit skewed (discussed in detail soon). One of the best ways to 
get a handle on the data is to simply visualize it:</p><img alt="ds6.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds6.png"/><p class="new">It's clear the high values are influencing the mean. However, if you trim off 
just 5% off both ends, what happens to the mean?</p><pre><code>    t_m = scipy.stats.trim_mean(dollars_s, 0.05)
    print("trim {0:.2f}".format(t_m))</code></pre><p class="new">Another way to trim off extreme values is to cut off some percentage of the 
top (or bottom end). Usually, you will want to visualize this data first 
before doing so (coming up soon). But here's a quick way to do it:</p><pre><code>def demo_tmean2():
    df = pd.read_csv(DATA_PATH) # dataframe
    dollars_s = df['dollar']    # series
    s2 = sorted(dollars_s)
    cut_off = int(0.90 * len(s2)) # keep lower 90%
    lower90 = s2[0: cut_off]
    m = np.mean(lower90)
    print("trim top {0:.2f}".format(m))</code></pre><p class="new">So we went from $33.40 (overall average) to $24.65 (trimmed both ends) to $19.75 
when just trimming the top end. What does this tell you about the data? If you're 
not sure, ask on Piazza. We'll have a separate lesson that discusses distribution skew.</p><h2 id="geometric-mean">Geometric Mean</h2><p class="new">Two means that get little attention are the geometric and harmonic means. The 
library <code>scipy.stats</code> has functions to do each.</p><p class="new">The geometric mean is taking the n·µó ∞ root of each item <strong>multiplied</strong>. It indicates 
the central tendency using the product of values. It is used when working with 
compound growth rates, investment returns, as well as with area and volume. 
Its general formula is shown below:</p><img alt="ds7.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds7.png"/><p class="new"><strong>When to use</strong></p><ul><li>appropriate when the data contains values with different units of measure (e .g. 
some measure are height, some are dollars, some are miles)</li><li>does not accept negative or zero values (e.g. all values must be positive)</li></ul><h3 id="example-geometric-at-the-movies">Example: Geometric at the Movies</h3><img alt="ds8.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds8.png"/><p class="new">A good situation of using the geometric mean is when working with different 
scales of data. For example, let's say you are trying to decide between two 
movies (Avengers End Game and Beyond Forgiving Chore) using IMDB and Rotten Tomatoes. 
Both use different scales to rate movies. IMDB uses a 100 point scale and Rotten 
Tomatoes uses a 5 point scale.</p><p class="new"><strong>Avengers End Game</strong></p><pre><code>4.5  RT score
68   IMDB score</code></pre><p class="new"><strong>Beyond Forgiving Chore</strong></p><pre><code>3.0  RT score
75   IMDB score</code></pre><h4 id="using-simple-mean-calculation">Using simple mean calculation:</h4><div class="ide code-starter clearfix"><pre><code>def demo_movies():
    aeg = [4.5, 68]
    bfc = [3.0, 75]
    pick_a = np.mean(aeg) &gt; np.mean(bfc)
    print(pick_a) # pick Beyond Forgiving Chore
    
demo_movies()</code></pre></div><h4 id="using-geometric-mean-calculation">Using geometric mean calculation:</h4><pre><code>    pick_a = scipy.stats.gmean(aeg) &gt; scipy.stats.gmean(bfc)
    print(pick_a) # pick Avengers End Game</code></pre><h2 id="harmonic-mean">Harmonic Mean</h2><p class="new">The harmonic mean is the appropriate mean if the data is comprised of rates.
As a quick reminder, rate is the ratio between two quantities with 
different measures (e.g. speed, acceleration, frequency, etc.)</p><p class="new">A good example is calculating average speed. If you drove 10 miles @ 60 MPH 
(hence 10 miles in 10 minutes of driving) and then got stuck behind a bus 
going 30 MPH for 10 more miles (10 miles in 20 minutes of driving), you drove 
a total of 20 miles in 30 minutes.  That's 40 miles per hour.  Correct?  </p><p class="new">Let's see what the means say:</p><div class="ide code-starter clearfix"><pre><code>def demo_hmean():
    MPH = [60, 30]
    print(np.mean(MPH))
    
demo_hmean()</code></pre></div><p class="new">Since we are dealing with rates, the normal mean doesn't make sense.  The harmonic 
mean uses the inverse of the values:</p><img alt="ds9.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds9.png"/><pre><code>    print(scipy.stats.hmean(MPH))</code></pre><p class="new"><strong>When to Use</strong></p><ul><li>appropriate for rates</li><li>does not take rates with a negative or zero value (all rates must be positive)</li></ul><h1 class="section" id="section3">The Middle: The Median</h1><p class="new">The next measure of central tendency is the median, or the middle value. It's 
the value that's in the middle of the data set.</p><img alt="ds10.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds10.png"/><p class="new">You can get the median by using NumPy's or Panda's median function: </p><div class="ide code-starter clearfix"><pre><code>def demo_median():
    rolls = Util.perfect_dice()
    
    # numpy
    print('med {0:.2f}'.format(np.median(rolls)))

    # pandas
    df = pd.read_csv(DATA_PATH)
    dollars_s = df['dollar']
    print(dollars_s.median())

demo_median()</code></pre></div><p class="new">Note that this median is much closer to the trimmed mean you calculated before.  </p><p class="new">If the dataset has an even number of items, you average the two 'middle' values. 
The median has a hidden cost of calculating it in that the data needs to be sorted first.
<img alt="ds11.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds11.png"/></p><h1 class="section" id="section4">Mode</h1><p class="new">The mode is the value(s) that occur the most in the data set. It's possible to 
have multiple modes (i.e. multi-modal) or no modes (e.g. if every value occurs once).
<img alt="ds12.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds12.png"/></p><p class="new">The <code>scipy.stats</code> package has a mode function:</p><div class="ide code-starter clearfix"><pre><code>def demo_mode(values):
    m = scipy.stats.mode(values)
    print('mode', m)
    
demo_mode(rolls)</code></pre></div><p class="new">The <code>scipy.stats</code> package has a <code>mode</code> function:</p><p class="new">This returns a 'ModeResult' which can be thought of containing a values array and a count array:</p><pre><code>    value, count = scipy.stats.mode(values)
    print('mode', value, count)</code></pre><p class="new">To get a better sense of this measurement, let's remove the 7's from the data and recalculate the mode:</p><pre><code>def demo_bimodal(rolls):
    no_7 = [d for d in rolls if d != 7 ]
    v,c = scipy.stats.mode(no_7)
    print('mode ', v,c )</code></pre><div class="ide code-starter clearfix"><pre><code>rolls = Util.perfect_dice()
demo_bimodal(rolls)</code></pre></div><p class="new">Note that it returns '6' with a count of 5. BUT this dataset has 2 modes (6 and 8). 
However, Pandas has version of mode that returns all the modes in a dataset:</p><pre><code>    s = pd.Series(no_7)
    print(s.mode())</code></pre><h1 class="section" id="section5">Review</h1><p class="new">The following shows a quick summary of the different statistics discussed:
<img alt="ds13.png" class="center border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/location/html/ds13.png"/></p><p class="new"><strong>Mean</strong></p><p class="new">Pros:</p><ul><li>It works well for simple lists of numbers/measurements.</li><li>Easy to calculate: just add and divide.</li><li>It‚Äôs intuitive ‚Äî it‚Äôs the number ‚Äúin the middle‚Äù, pulled up by large values and brought down by smaller ones.</li></ul><p class="new">Cons:</p><ul><li>The average can be skewed by outliers ‚Äî it doesn‚Äôt deal well with wildly
varying samples. The average of 100, 200 and -300 is 0, which is misleading.</li></ul><p class="new"><strong>Median</strong></p><p class="new">Pros:</p><ul><li>Handles outliers well ‚Äî often the most accurate representation of a group</li><li>Splits data into two groups, each with the same number of items</li></ul><p class="new">Cons:</p><ul><li>Can be harder to calculate: you need to sort the list first</li><li>Not as well-known; when you say ‚Äúmedian‚Äù, people may think you mean ‚Äúaverage‚Äù</li></ul><p class="new"><strong>Mode</strong></p><p class="new">Pros:</p><ul><li>Works well for exclusive voting situations (this choice or that one; no
compromise)</li><li>Gives a choice that the most people wanted (whereas the average can give a
choice that nobody wanted).</li><li>Simple to understand</li></ul><p class="new">Cons:</p><ul><li>Requires more effort to compute (have to tally up the votes)</li><li>‚ÄúWinner takes all‚Äù ‚Äî there‚Äôs no middle path</li></ul><h2 id="describe-me">Describe Me</h2><p class="new">One of the great features of Pandas is that you can use the <code>describe</code> method to 
see all the relevant statistics of a dataset:</p><div class="ide code-starter clearfix"><pre><code>df = pd.read_csv(DATA_PATH)
dollars_s = df['dollar']
print(dollars_s.describe())</code></pre></div><p class="new">The <code>describe</code> method returns a tuple which holds the count, mean, standard 
deviation (next lesson), min, max and the values at different percentiles (next lesson).</p><h2 id="a-look-ahead">A Look Ahead.</h2><p class="new">The location of the mean, median and mode relative to each other can hint towards 
the distribution of values. This will be discussed in more detail in the next lesson. 
But do take a look at how the order of the mean, median, and mode in both 
left-skewed distributions  (also called negatively-skewed distribution), 
right-skewed distributions (also called positively-skewed distribution) and normal distributions.</p><div class="font-sans container mt-1 mb-4 "><p>üéóBefore you go, you should <strong>know</strong>:</p><div class="w-2/3 md:w-2/3"><div class="shadow-md"><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-3" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-3"><span> how to find the mean, median, mode using Python </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-4" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-4"><span> what a trimmed mean is and why it's useful </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-5" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-5"><span> the values returned by Panda's describe method </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div></div></div></div><h1 class="section" id="section6">Lesson Assignment</h1><p class="new">We removed all the tests for this lesson.  But be sure to code up all the
 functions that were demonstrated.</p><h1>Submit</h1><p>You can download your notebook (via <code>ide.tester</code>) and upload that file to Gradescope (find lesson with tag <strong>DS-Location</strong>).</p><div></div><div class="lesson-footer flex bg-gray-200 justify-center"><div class="lesson-footer-card displaycard bg-blue-200 border-t border-gray-400 max-w-2xl rounded overflow-hidden shadow-lg"><div class="px-6 py-4"><div class="title-text text-center font-bold text-xl">Estimating Location</div><p class="text-center text-gray-800 text-xl">Descriptive Statistics in Python</p><div class="text-center mt-6 text-xl"><i aria-hidden="true" class="fas fa-tags"></i> any questions on Piazza with <span class="font-bold">DS-Location</span></div><div class="text-gray-700 text-base">¬†</div><div></div><div></div><div class="flex mt-4 border-t border-solid border-gray-500 justify-around bg-gray-200"><div class="text-gray-700 text-center px-4 m-2 text-sm">üêç¬†¬†4 D.S.</div><div class="text-gray-700 text-center px-4 m-2 text-sm"><strong>Version:</strong> <!-- -->SP21</div></div><div class="text-gray-700 mt-2 text-center text-sm font-bold">All Rights Reserved Michael Haberman</div><div class="text-gray-700 text-center text-sm">Do not distribute this notebook</div></div></div></div><div>¬†</div><div class="ide code-starter clearfix"><pre><code># print(ide.tester.test_notebook()) 
# print(ide.tester.test_notebook(verbose=True)) 

# once you are ready -- run this 
# ide.tester.download_solution() 
</code></pre></div></div></div></body></html>