<!DOCTYPE html><html lang='en'><head><title>Python Classes (part 1)</title><meta charset="utf-8"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}input{font-family:inherit;font-size:100%;line-height:1.15;margin:0}input{overflow:visible}[type=checkbox]{box-sizing:border-box;padding:0}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}blockquote,h1,h2,h3,h4,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e2e8f0}img{border-style:solid}input:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder{color:#a0aec0}input::-moz-placeholder{color:#a0aec0}h1,h2,h3,h4{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}input{padding:0;line-height:inherit;color:inherit}code,pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-gray-300{--bg-opacity:1;background-color:#e2e8f0;background-color:rgba(226,232,240,var(--bg-opacity))}.bg-orange-300{--bg-opacity:1;background-color:#fbd38d;background-color:rgba(251,211,141,var(--bg-opacity))}.bg-green-200{--bg-opacity:1;background-color:#c6f6d5;background-color:rgba(198,246,213,var(--bg-opacity))}.bg-blue-200{--bg-opacity:1;background-color:#bee3f8;background-color:rgba(190,227,248,var(--bg-opacity))}.bg-blue-300{--bg-opacity:1;background-color:#90cdf4;background-color:rgba(144,205,244,var(--bg-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-gray-500{--border-opacity:1;border-color:#a0aec0;border-color:rgba(160,174,192,var(--border-opacity))}.border-indigo-500{--border-opacity:1;border-color:#667eea;border-color:rgba(102,126,234,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border{border-width:1px}.border-l-2{border-left-width:2px}.border-t{border-top-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.hidden{display:none}.justify-center{justify-content:center}.justify-around{justify-content:space-around}.float-left{float:left}.clearfix:after{content:"";display:table;clear:both}.font-sans{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}.font-serif{font-family:Georgia,Cambria,"Times New Roman",Times,serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-64{height:16rem}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.text-base{font-size:1rem}.text-xl{font-size:1.25rem}.leading-none{line-height:1}.leading-normal{line-height:1.5}.m-2{margin:.5rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-4{margin-top:1rem;margin-bottom:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.mt-6{margin-top:1.5rem}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.object-contain{-o-object-fit:contain;object-fit:contain}.opacity-0{opacity:0}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pl-3{padding-left:.75rem}.absolute{position:absolute}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.shadow-inner{box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.06)}.text-left{text-align:left}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.whitespace-no-wrap{white-space:nowrap}.w-1\/2{width:50%}.w-2\/3{width:66.666667%}.w-1\/4{width:25%}.w-full{width:100%}@media (min-width:768px){.md\:w-2\/3{width:66.666667%}}.text-tiny{font-size:.5rem!important}body{color:#000!important;font-size:1.25rem!important}.main-content{max-width:900px}.lesson{padding-left:15px!important;padding-right:10px!important;--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.main-content,html{font-family:Arial,Georgia,Verdana,"Times New Roman"!important}.lesson-footer-card,.lesson-overview-card{font-family:"Times New Roman"!important}blockquote em:first-child{font-family:Times!important;font-size:1.35em;margin-right:10px}blockquote em:first-child:after{content:":"}.lesson-footer{margin-top:50px;margin-top:20px}.lesson ul{list-style-position:inside;list-style-type:none;margin-left:1em}.lesson ul li{padding-left:1em;padding-right:5px}.lesson ul li::before{content:"•";padding-right:5px}span{white-space:nowrap}p.new{padding-top:0;padding-bottom:.5em}p.new+p{padding-top:.5em}h1,h2,h3,h4{font-weight:700;margin-top:.25em!important;margin-bottom:.05em!important;font-family:Georgia,Cambria,"Times New Roman",Times,serif!important}h1{font-size:2em!important;clear:both;color:#000!important}div+h1,h2{margin-top:0!important}h2{margin-top:.5em!important;font-size:1.5em!important;clear:both;color:#8b0000!important}h3{font-size:1.25em!important;clear:both;color:#006400!important}h4{font-size:1em!important;clear:both;color:#00008b!important}ul{margin-bottom:30px}p.new a{text-decoration:underline}.lesson a{text-decoration:underline;color:#00f}.title-text{font-size:2rem}blockquote{font-size:1em;background:#f9f9f9;border-left:10px solid #ccc;margin:.5em 10px;padding:.5em 10px;border-left-color:#ffcd69;border-right-color:#f6ba59;quotes:"\201C""\201D""\2018""\2019"}blockquote:before{color:#ccc;content:open-quote;font-size:4em;line-height:.1em;margin-right:.25em;vertical-align:-.4em}blockquote:after{color:#ccc;content:no-close-quote}blockquote p{display:inline}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.5)}img.formula-block{margin-left:auto;margin-right:auto;margin-top:.25rem;margin-bottom:.75rem}img.formula-inline{margin-top:.25rem;margin-bottom:.25rem}img.wrap{margin-right:1rem!important;border:1px solid #021a40}img.center{-o-object-position:center;object-position:center;margin-left:auto;margin-right:auto}img.border{border:1px solid #021a40;margin-top:.5rem;margin-bottom:.75rem}code{font-size:smaller}pre code{font-size:15px}.code{background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;clear:both;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:840px;max-width:840px;overflow:scroll;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33!important}pre code:not(.line-number){background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;clear:both;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:840px;max-width:840px;overflow:scroll;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33}div.code-starter>pre code{border-left:3px solid #fdff44!important;background-image:radial-gradient(rgba(0,150,0,.75),#000 120%);color:#fff;font:.9rem Inconsolata,monospace}div.code-starter>pre code::after{content:"\a$_"}.code pre{counter-reset:line}code.line-number{counter-increment:line}code.line-number::before{padding:0 .5em;margin-right:.5em;border-right:1px solid #ddd}code.line-number:before{content:"0" counter(line)}.tab{font-size:1rem;border-color:#8c6728}.tab-content{max-height:0;max-width:100%;transition:max-height .35s}.tab input:checked~.tab-content{max-height:100vh}.tab input:checked+label{padding:1rem;border-left-width:2px;border-color:#6574cd;background-color:#f8fafc;color:#6574cd}.tab label::after{float:right;right:0;top:0;display:block;width:1em;height:1.5em;line-height:1.5;font-size:1rem;text-align:center;transition:all .35s}.tab input[type=checkbox]+label::after{content:"+";font-weight:700;border-width:1px;border-radius:9999px;border-color:#8c6728}.tab input[type=checkbox]:checked+label::after{transform:rotate(315deg);background-color:#6574cd;color:#f8fafc}</style>
<script src="https://kit.fontawesome.com/7efc4bcee2.js" crossOrigin="anonymous"></script>
<script>
    let stateCheck = setInterval(function(){
      if (document.readyState === 'complete') {
        clearInterval(stateCheck);
        let s1 = document.getElementById('start');
        // console.log('doc is ready', s1);
        if (s1) {
           s1.setAttribute('tabindex', '-1');
           s1.focus(); 
           s1.scrollIntoView({behavior: 'smooth'}); 
           setTimeout(function(){s1.blur()}, 500);
           // console.log('focus set');
        }
      }
    }, 200);
    </script>
</head><body class="lesson"><div class="main-content lesson bg-gray-200 text-black p-1 pl-3 font-serif"><div class="md-inner">
<div id="start" class="section">&nbsp;</div><h1 class="overview"></h1><div class="lesson-overview bg-gray-200 flex justify-center"><div class="text-center px-4 py-2 m-2"><div class="lesson-overview-card displaycard bg-blue-200 max-w-sm rounded overflow-hidden shadow-lg"><div> </div><img alt="Text" class="object-contain h-64 w-full" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/PythonFiles-sm.png"/><div class="px-6 py-4"><div class="title-text text-center leading-none font-bold text-xl">Python Classes (part 1)</div><p class="text-center mt-2 text-gray-800 text-xl">Building User Defined Types</p><div class="text-gray-700 text-base"> </div><div class="text-center mb-3"><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#info490</span><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#python</span></div><div class="flex border-t border-solid border-gray-500 shadow-inner justify-around bg-blue-300"><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap">D.M. &amp; the 🐍</span></div><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap"><strong>Version:</strong> <!-- -->SP21</span></div></div><div class="text-gray-700 mt-1 text-center text-tiny">All Rights Reserved</div></div></div></div><div class="text-center px-4 py-2 m-2 w-1/2"><div class="displaycard bg-gray-200 max-w-sm rounded overflow-hidden shadow-lg"><div class="px-6 py-4 text-left"><div class="text-center font-bold text-xl">Python Classes (part 1)<br/><span></span></div></div><div class="px-6 py-4 text-left text-gray-800"><div class="text-center font-bold text-xl">Colab Notes</div><p class="max-w-sm text-sm">1. <strong>Copy</strong> this notebook <img alt="copy2drive.png" class="inline-block" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/copy2drive.png"/></p><p class="max-w-sm text-sm">2. <strong>Update</strong> the <strong><code>NET_ID</code></strong> in the notebook</p><p class="max-w-sm text-gray-800 text-sm">3. <strong>Hit ▶️ </strong> to install the INFO 490 IDE</p><div class="text-center font-bold text-xl"> </div><div class="text-center font-bold text-xl">Jupyter/PyCharm Notes</div><p class="max-w-sm text-gray-800 text-sm text-left">The testing framework does <strong>not work</strong> (at this time) for Jupyter  notebooks or local code development.</p></div></div></div></div><h1 class="section" id="section1">Python Classes (part 1) </h1><p class="new">This series (building classes) starts our journey to learning about creating 
user defined types (classes) in Python.  We have been using classes for a while 
now (e.g <code>collections.Counter</code>) and have mentioned types several times (e.g. <code>type(['a'])</code>, <code>type(1)</code>).</p><p class="new">At one point in Python's past, there was a difference between types and classes, but they are 
essentially the same and can be used interchangeably. Almost everything in
 Python (numbers, lists, strings) is associated with a class.  This lesson is about 
 learning to design and create classes.</p><h2 id="why-classes">Why Classes?</h2><p class="new">Without classes, we would have to rely on modules (separate files like libraries) and functions.
Although this may not sound too bad, in many situations it's easier to model and build 
a solution using classes.   </p><h3 id="classes-objects-instances">Classes, Objects, Instances</h3><img alt="class_instance.jpg" class="float-left wrap mb-3 w-1/4" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/class_instance.jpg"/><p class="new">A <em>class</em> is a blueprint to how to make instances (a.k.a. objects). <em>Instances</em> are 
a specific instantiation of a class.  The python <code>type</code> function lets you know what 
class an instance belongs to. Each instance of a class (i.e. an object) is located 
somewhere in memory. The <code>id</code> function in Python, lets you know where in memory 
an instance is located (stored):</p><div class="ide code-starter clearfix"><pre><code>def simple10():
  return 10
  
a = 10
print(type(a), id(a), type(simple10))</code></pre></div><p class="new">You almost never need to use those functions, but they are super handy for debugging
a situation where you need to manage instances. And as you can see even
 functions have a class in Python.</p><blockquote><p class="new"><strong><em>Coder's Log</em></strong> If you are really curious, see what happens when you do
 the following <code>print(id(a), id(10), id(simple10()))</code>. Python actually
 reserves memory for <em>some</em> of the constants.</p></blockquote><p class="new">A class is simply a container that holds functions and data (a function
 inside a class is called a <em>method</em>). A class is used to help organize your
 code. When you build a class, you are usually putting functions (and data) 
that belong together.  </p><h3 id="encapsulation">Encapsulation</h3><p class="new">Classes are an abstract design to help encapsulate data and functions that work
on that data.  <em>Encapsulation</em> is the idea of putting items that belong
 together is a common container. The word data can mean both the internal data 
the class is 'holding' (think of the <code>collection.Counter</code>) but also properties 
of the class. Properties are just variables inside a class. </p><p class="new">If you had a <code>Person</code> class, you might have properties <code>first_name</code> and <code>last_name</code>. 
Because the data is walled off (you need to use the class/object to access the data), 
it provides a level of security. We call the bundling of data and the methods 
that work on that data <em>encapsulation</em>.</p><h3 id="world-modeling">World Modeling</h3><p class="new">Deciding how and when to use classes comes with experience and practice.  If you ever have a 
group of functions that work on the same data, that is a clue that a class
 can help you.  Take a look at the following code. It demonstrates a simple
 way to calculate the GPA for a student's classes.</p><pre><code>def update_name(data):
   pass # code here
def calculate_gpa(data):
   pass # code here
def show_classes(data):
   pass # code here
def build_data():
   return {'classes': [{ 'name': 'info','credits': 3,'type': 'fun', 'grade':90.0},
           {'name': 'econ 101', 'credits': 4, 'type': 'not fun', 'grade':80.0}]}

data = build_data()
update_name(data, 'info', 'mh2')
calculate_gpa(data)
show_classes(data)</code></pre><h4 id="family-of-functions">Family of functions</h4><p class="new">In the above code, you have a group of functions that all work on the same data. 
This is a classic case where using a class would be better.  Why? All those
 functions work on the same type of data (it's been passed in as a parameter). 
Sometimes you see similar code, but work on, <em>gasp</em> 🤭, global data. In any
 case, it's hard to manage those functions as you need to always remember
 that they 'belong' together. If the structure of the data changes, you would
 have to remember to update the corresponding functions.</p><h4 id="architecting-a-multiple-component-solution">Architecting a multiple component solution</h4><p class="new">Another case for using classes is when you need to model a solution that involves different
parts or components. For example, if you were building a text analysis engine, you 
might want to use a class to represent the text, a class to manage building the 
text class from data, and different classes to manage algorithms to work on that text. 
The class architecture helps you keep a separation of concerns and build code that 
can be de-coupled (to some point). </p><h1 class="section" id="section2">Building Classes</h1><p class="new">The standard way in Python is put similar functions in the same file (called
 a <em>module</em> or <em>library</em>).</p><p class="new">The functions in the same file/module/library usually have some unifying purpose. 
Classes are done similarly. You put a class in a file and call that a module. 
Modules can have more than one class in them. But the standard practice
 is to have one <em>public</em> class per module. The word public in this context is
 referring to how you want others to use your class.  The <em>public</em> classes
 are the ones available for others to use.  Some classes can be considered
 private or protected as well -- definitions we will get to later.</p><blockquote><p class="new"><strong><em>Coder's Log</em></strong>
The word <em>package</em> usually refers to a collection of modules.  A module is a single file of python code
that can be imported. </p></blockquote><h2 id="class-syntax">Class Syntax</h2><p class="new">Much like creating a function in Python, creating a class involves using a
 few special keywords.  We will start by building a class the models a 2D
 point. A 2D point has an x value and a y value.<br/><img alt="p1.png" class="center border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/p1.png"/></p><p class="new">Here's the syntax for creating the <code>Point2D</code> class:</p><div class="code-block code clearfix"><pre><code class="line-number">class Point2D(object):
</code><code class="line-number">   def __init__(self, xp, yp):
</code><code class="line-number">       self.x = xp
</code><code class="line-number">       self.y = yp
</code></pre></div><p class="new">Let's look at this code line by line:</p><h3 id="class-definition">Class Definition</h3><p class="new"><code>class Point2D(object):</code></p><ul><li>using the keyword <code>class</code>, we define a new class named <code>Point2D</code></li><li>when you create a class in Python you should <strong>Capitalize</strong> the first letter 
and use <em>CamelCase</em>. You can read more about <a href="https://www.python.org/dev/peps/pep-0008/#class-names" target="_blank">naming conventions</a></li><li>the thing named <code>object</code> inside the <code>()</code> is called the base class.  It is
optional and we will discuss it in a later lesson.  But the Point2D class
can do everything the <code>object</code> class can do.</li><li>the <code>:</code> marks the start of the class implementation</li></ul><h3 id="class-constructorinitializer">Class Constructor/Initializer</h3><p class="new"><code>def __init__(self, xp, yp):</code></p><ul><li>the keyword <code>def</code> is used just like for defining functions.</li><li>the name <code>__init__</code> is reserved for classes.  The <code>init</code> method (method is 
the name of a function inside a class) gets called when you create a new 
object (i.e. an instance of the class). It is called the <strong>constructor method</strong>.</li><li>the double underscores <code>__</code> around the name <code>init</code> signal to the reader
that the function is 'private'. Functions with the double underscore are called <em>dunder</em> 
functions you can <a href="https://www.python.org/dev/peps/pep-0008/" target="_blank">read more</a> about them</li><li>this <code>init</code> method has three arguments: <code>self, xp, yp</code>.  The <code>self</code> argument refers to
the <strong>specific instance of the class</strong>.  All other parameters after the <code>self</code> 
argument can be given any valid Python variable name.  In this case 
both <code>xp</code> and <code>yp</code> are just the names of the formal parameters.</li></ul><h4 id="an-important-note-about-respecting-privacy">An important note about respecting privacy</h4><p class="new">Those who use your code (including the author -- you), should <strong>never</strong> call methods 
that begin with an <code>_</code> (single or double) outside of the class code. Python won't enforce it, but you 
will announce to the world that you do not care about conventions, best
 practices, and building robust code.</p><h3 id="setting-instance-attributes">Setting Instance Attributes</h3><p class="new"><code>self.x = xp</code></p><ul><li>this sets the internal variable <code>x</code> (meant to be managed only by the specific
instance of Point2D) to the value held in the parameter <code>xp</code></li><li><code>self.y = yp</code> does the same but with <code>y</code> and <code>yp</code></li><li>both <code>x</code> and <code>y</code> are called <em>attributes</em> (we'll see later how attributes
become <strong>properties</strong>).</li></ul><h3 id="an-important-note-to-self">An important note to <code>self</code></h3><p class="new">The keyword <strong><em>self</em></strong> is used to refer to the specific memory location where
 the instance is living. It can <em>only</em> be used inside the class. Other languages use
 <code>this</code> to denote the same thing. As you will see, when you want to refer to
 methods, data, properties from <em>inside</em> the class, you need to use <code>self</code>.</p><h2 id="creating-class-instances">Creating Class Instances</h2><p class="new">Once the basic class is finished, you can now create instances. You just
 created the blueprint for what a class instance will 'look' like to Python. 
Every time you create a new instance, the <code>__init__</code> method is called (also 
named the class <strong>constructor</strong>) and the new instance is created.</p><pre><code>p1 = Point2D(4, 5)
p2 = Point2D(10, 8)

print(p1)</code></pre><h3 id="exercise-code-it-up-">Exercise: Code it Up </h3><p class="new">Go ahead and create the class and the two instances (p1 and p2)</p><div class="ide code-starter clearfix"><pre><code></code></pre></div><p class="new">You can confirm that each instance created is living at a separate memory
 location.</p><pre><code>print(id(p1))
print(id(p2))</code></pre><h2 id="adding-methods">Adding Methods</h2><h3 id="better-printing">Better Printing</h3><p class="new">What happened when you printed the instance p1?  It wasn't very <em>user-friendly</em> 
was it?  We can fix that by adding a <code>__repr__</code> method to our <code>Point2D</code> class. 
The <strong>repr</strong> method gets called by <code>print</code> or anytime you need to convert an 
instance to a string representation (as a reminder, it's called dunder method due to 
the (<strong>d</strong>ouble <strong>under</strong>scores):</p><pre><code>    def __repr__(self):
       return "x:{:.2f}, y:{:.2f}".format(self.x, self.y)</code></pre><p class="new">Add that code to the above class and re-run the code cell to see the better
 printing.</p><blockquote><p class="new"><strong><em>Coder's Log</em></strong> Python also has a <code>__str__</code> method that can be used to
 get the string version of the object.  Informally, <code>__str__</code> is used to get
 a 'human readable' version (<code>__repr__</code> gets the official representation). If you
 <strong>don't</strong> implement <code>__repr__</code> but the method <code>__str__</code> instead, Python will 
use that when it needs a string representation of the object.</p></blockquote><h3 id="better-equality">Better Equality</h3><p class="new">Another issue (yet to be seen) is the following:</p><div class="ide code-starter clearfix"><pre><code>p1a = Point2D(4,5)
p1b = Point2D(4,5)
print(p1a == p1b)</code></pre></div><p class="new">As a default, Python will use the memory location of an object to determine equality. 
Two instances are equal if they occupy the same place in memory. However, for 
many classes, you will want a domain specific version of what it means for 
two objects/instances to be equal. For us, two points are equal if their
 <code>x</code> and <code>y</code> attributes are the same. We'll use another double underscore
 method to implement equality:</p><pre><code>    def __eq__(self, other):
       return other is not None and self.x == other.x and self.y == other.y</code></pre><p class="new">Re-run the two point equality test.  Also make note that the <code>__eq__</code> implementation 
guards against a comparison to <code>None</code>.</p><blockquote><p class="new"><strong><em>Coder's Log</em></strong> Another convenient thing Python does is when it sees the
 <code>==</code> sign (e.g. <code>p1a == p1b</code>), Python will call the object's dunder method
 <code>__eq__</code>.  Python also allows you to define other operators as well.</p></blockquote><h3 id="distance-between-two-points-2-d">Distance Between Two Points (2-D)</h3><img alt="p2.png" class="center border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/p2.png"/><p class="new">The distance between two points is given by:
<img alt="math?math=%5CLarge%20d%20%3D%20%5Csqrt%20%7B%5Cleft(%20%7Bx_1%20-%20x_2%20%7D%20%5Cright)%5E2%20%2B%20%5Cleft(%20%7By_1%20-%20y_2%20%7D%20%5Cright)%5E2%20%7D" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20d%20%3D%20%5Csqrt%20%7B%5Cleft(%20%7Bx_1%20-%20x_2%20%7D%20%5Cright)%5E2%20%2B%20%5Cleft(%20%7By_1%20-%20y_2%20%7D%20%5Cright)%5E2%20%7D"/></p><h4 id="exercise-adding-distance">Exercise adding distance</h4><p class="new">Add a method named <code>distance</code> that calculates the distance between itself and
 another point:</p><ul><li>use the <code>math.sqrt</code> to find the square root.</li><li>once this is done, the following should work:</li></ul><pre><code>p1 = Point2D(4,5)
p2 = Point2D(10,8)
print(p1.distance(p2))</code></pre><h2 id="a-dissonance-distance">A Dissonance Distance</h2><p class="new">Perhaps you didn't notice (we are still new at this), but does the function
 <code>distance</code> <em>belong</em> in the class <code>Point2D</code> 🤔?  </p><p class="new">Creating and designing software is filled with these kind of questions
 and decisions. It's actually not clear at this <em>point</em>. But as you build out 
your classes, expect some methods and functionality to migrate from one class to another.
Also, as the code inside a class grows, you should ask yourself if using
 another class makes sense as well.</p><p class="new">At first it may be perfectly fine to keep the <code>distance</code> method 
in <code>Point2D</code>. However, perhaps it makes more sense to create a <code>Line</code> class that 
encapsulates the idea of distance between 2 points. Let's do that.</p><p class="new">Fill in the <code>Line</code> class so the following code works (don't worry about <code>__eq__</code>):</p><ul><li>the <code>__init__</code> method will take two parameters of type <code>Point2D</code></li><li>add the attributes to hold the two points</li><li>add the method so line instances can be printed (format is up to you)</li><li>add the <code>distance</code> method</li></ul><div class="ide code-starter clearfix"><pre><code>import math
class Point2D(object):
    pass
    # copy &amp; paste your Point2D class here (for reference)
       
class Line(object):
    pass
    # create this class

p1 = Point2D(4,5)
p2 = Point2D(10,8)

# we create a line with 2 points
line = Line(p1, p2)
print(line)
print(line.distance())</code></pre></div><h2 id="better-lines">Better Lines</h2><p class="new">Perhaps we are bit rusty on our line geometry and algebra, but you may remember 
that <em>every</em> line has two features:</p><ul><li>a <strong>slope</strong> which signals how fast/slow the line changes (steep/shallow).</li><li>a <strong>y intercept</strong> which is a point that crosses the y axis.</li></ul><p class="new">Let's create methods for both of those line attributes.</p><h3 id="calculating-slope">Calculating Slope</h3><p class="new">Take a close look at the image below to verify you understand the math that
 is used to calculate the slope using two points (<code>p1</code> and <code>p2</code> in the image).</p><img alt="p3.png" class="center border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/p3.png"/><img alt="math?math=%5CLarge%20slope%20%3D%20m%20%3D%20%5Cfrac%7B%5CDelta%20y%7D%7B%5CDelta%20x%7D%20%3D%20%5Cfrac%7By_2%20-%20y_1%7D%7Bx_2%20-%20x_1%7D" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20slope%20%3D%20m%20%3D%20%5Cfrac%7B%5CDelta%20y%7D%7B%5CDelta%20x%7D%20%3D%20%5Cfrac%7By_2%20-%20y_1%7D%7Bx_2%20-%20x_1%7D"/><pre><code>class Line(object):
  def __init__(self, p1, p2):
    self.p1 = p1
    self.p2 = p2

    self.slope = None # calculate me !!! 
    
  def get_slope(self):
    return self.slope
    
  # ... more code</code></pre><p class="new">Update the <code>Line</code> class so the following code will work. Note that we are
 ignoring the issue of vertical lines where △x is 0 (infinite slope).</p><div class="ide code-starter clearfix"><pre><code># put the entire updated Line class here

p1 = Point2D(4,5)
p2 = Point2D(10,8)
line = Line(p1, p2)
print(line.get_slope())</code></pre></div><h3 id="calculating-y-intercept-aka-formula-classnamemy-1-inlinetrue-sizelarge-jaxb--formula-classnamemy-1-inlinetrue-sizelarge-jaxy0--">Calculating y intercept (a.k.a <img alt="math?math=%5Clarge%20b" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20b" style="display:inline-block"/>, <img alt="math?math=%5Clarge%20y_0" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20y_0" style="display:inline-block"/>) </h3><p class="new">The next value to calculate is where the line crosses the Y axis. It's
 called the the <em>y-intercept</em>.</p><img alt="p4.png" class="center border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/p4.png"/><p class="new">In order to find where the line crosses the Y axis, we will start with the
 basic slope-intercept equation for a line (hopefully, this (perhaps?) looks
 familiar):</p><img alt="math?math=%5CLarge%20y%20%3D%20mx%20%2B%20b" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20y%20%3D%20mx%20%2B%20b"/><ul><li><img alt="math?math=%5Clarge%20b" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20b" style="display:inline-block"/> is the y intercept</li><li><img alt="math?math=%5Clarge%20m" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20m" style="display:inline-block"/> is the slope</li><li><img alt="math?math=%5Clarge%20x" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20x" style="display:inline-block"/> is independent variable that marks its location on the X axis</li><li><img alt="math?math=%5Clarge%20y" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20y" style="display:inline-block"/> is the calculated value (based on both the slope and y intercept)</li></ul><p class="new">Let's get our algebra gears going and <em>solve</em> for <img alt="math?math=%5Clarge%20b" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20b" style="display:inline-block"/>:
<br/><img alt="math?math=%5Clarge%20y%20%3D%20mx%20%2B%20b" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20y%20%3D%20mx%20%2B%20b" style="display:inline-block"/><span class="text-sm">  line equation</span><br/><img alt="math?math=%5Clarge%20y%20-%20mx%20%3D%20mx%20%2B%20b%20-%20mx" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20y%20-%20mx%20%3D%20mx%20%2B%20b%20-%20mx" style="display:inline-block"/><span class="text-sm">  subtract mx from both sides</span><br/><img alt="math?math=%5Clarge%20b%20%3D%20y%20-%20mx" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20b%20%3D%20y%20-%20mx" style="display:inline-block"/><span class="text-sm">  rearrange the terms</span></p><p class="new">Add the following to your <code>Line</code> class. In the example, we are using <code>y0</code> for
 the y intercept.</p><pre><code>  def __init__(self):
    # ... previous 
    self.y0 = None # do the calculation
  
  def get_y0(self):
    return self.y0</code></pre><p class="new">Once that is done, the following code should work</p><pre><code>p1 = Point2D(4,5)
p2 = Point2D(10,8)
line1 = Line(p1, p2)
print(line1.get_slope())
print(line1.get_y0())
print(line1.distance())</code></pre><h2 id="plotting-lines">Plotting Lines</h2><p class="new">Let's make sure things are working, by plotting the line. You should get a
 line similar to the images.</p><div class="ide code-starter clearfix"><pre><code>def plot_lines(lines):
  import matplotlib.pyplot as plt
  from matplotlib.ticker import MaxNLocator

  fig,axes = plt.subplots()
  colors = ['orange', 'b', 'y', 'b', 'g']
  for idx, line in enumerate(lines):
    print(line.p1.x, line.p1.y, line.p2.x, line.p2.y)
    x = [line.p1.x, line.p2.x]
    y = [line.p1.y, line.p2.y]
    axes.plot(x,y, color = colors[idx%len(colors)])
  axes.set_ylim(-1,20)
  axes.set_xlim(-1,20)
  axes.grid()
  axes.yaxis.set_major_locator(MaxNLocator(integer=True))
  axes.xaxis.set_major_locator(MaxNLocator(integer=True))
  
plot_lines([line1])</code></pre></div><h2 id="lines-in-the-general-form">Lines in the <em>general</em> form</h2><p class="new">The previous line equation (called slope-intercept form) can also be written in
 the <em>general</em> form of a line:  <img alt="math?math=%5Clarge%20Ax%20%2B%20By%20%2B%20C%20%3D%200" class="my-1 formula-inline" src="https://render.githubusercontent.com/render/math?math=%5Clarge%20Ax%20%2B%20By%20%2B%20C%20%3D%200" style="display:inline-block"/>.
<img alt="p5.png" class="center border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/p5.png"/>Through the <a href="https://www.mathematics-monster.com/lessons/how_to_convert_a_linear_equation_from_general_form_to_slope_intercept_form.html" target="_blank">magic of algebra</a>,
you can solve for A, B, C if you have two points, p1 and p2:.</p><pre><code>A = p2Y - p1Y
B = -(p2X - p1X)
C = p1Y * p2X - p1X * p2Y

SLOPE = -A/B 
Y0 = -C/B</code></pre><p class="new">The following is a <em>new</em> class that implements the algebra. That is given two points, 
it calculates the <code>A</code>,<code>B</code>,<code>C</code> coefficients.</p><div class="ide code-starter clearfix"><pre><code>class GeneralLine(object):
  def __init__(self, p1, p2):

  def get_slope(self):
    return self.slope
  
  def get_y0(self):
    return self.y0</code></pre></div><p class="new"> 
Now we can visually confirm that the math is correct by generating 2 random
 points on the same line:</p><pre><code>import random
def build_general(line):
  random.seed(42) # life itself
  
  # pick a random x between -10, and 20
  x1 = random.randint(-10, 20)
  # make x2 is 10 x-steps away
  x2 = x1 + 10
  
  # solve for y1, y2 using x1, x2
  # y = mx + b
  y1 = line.get_slope()*x1 + line.get_y0()
  y2 = line.get_slope()*x2 + line.get_y0()
  
  # create new points
  p1 = Point2D(x1, y1)
  p2 = Point2D(x2, y2)

  return GeneralLine(p1, p2)
  

g_line = build_general(line1)
plot_lines([line1, g_line])</code></pre><p class="new">Be sure to implement all the above code. And confirm that the lines have the
 same slope.</p><h2 id="so-much-more">SO MUCH MORE</h2><p class="new">We really only scratched the surface: polymorphism, inheritance, composition, 
scope, class methods (static) design patterns, dependency injection ... 
(and the list goes on).  </p><p class="new">However, we will start organizing our code using classes (instead of functions) 
and bring in new ideas as the situation demands. You now know enough to start
 building robust code.</p><div class="font-sans container mt-1 mb-4 "><p>🎗Before you go, you should <strong>know</strong>:</p><div class="w-2/3 md:w-2/3"><div class="shadow-md"><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-5" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-5"><span> What's the difference between a function and a method </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-6" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-6"><span> What's the difference between a class, an object, an instance </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-7" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-7"><span> What's the constructor method </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-8" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-8"><span> What's encapsulation </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-9" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-9"><span> What's the meaning of <code>self</code></span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div></div></div></div><h1 class="section" id="section3">Lesson Assignment</h1><p class="new">Note the assignment assumes you have followed all the directions up to this
 point.</p><h2 id="creating-a-better-line">Creating a better line</h2><p class="new">We will create a new class that will help with finding the distance from
 points to the line.</p><h2 id="bettergeneralline"><code>BetterGeneralLine</code></h2><p class="new">Create the class <code>BetterGeneralLine</code>. It should have the same constructor and
 methods as <code>GeneralLine</code>.  You will add a new method to <code>BetterGeneralLine</code>.</p><div class="ide code-starter clearfix"><pre><code>class BetterGeneralLine(object):
   ## fill me in
   pass</code></pre></div><h2 id="distance-from-a-point-to-line">Distance from a point to line.</h2><p class="new">When we discuss linear regression, the distance from an observed data point
 to the line (created by the model -- the regression or 'fitted' line) is the typical
 metric used (each data point has a distance). This distance, <strong>d</strong>, is
 shown in the diagram below. 
<img alt="p7.png" class="toggle center border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/dmap/py/classes-p1/html/p7.png"/></p><h3 id="distancetopoint"><code>distance_to_point</code></h3><p class="new">Add a method named <code>distance_to_point</code> to <code>BetterGeneralLine</code>. </p><ul><li>Its parameter is a Point2D type</li><li>returns the distance. This distance is a straight-forward calculation (the difference in y values between the predicted 
value and the actual value).</li></ul><h3 id="perpendiculardistancetopoint"><code>perpendicular_distance_to_point</code></h3><p class="new">However, orthogonal regression (also referred to as Deming regression) can 
use the perpendicular distance from a point to the line (distance 'o' in 
the diagram) as its metric. This distance calculation is a bit more involved. 
The calculation is shown in the image.</p><input class="hidden toggle" type="checkbox"/><img alt="math?math=%5CLarge%20o%3D%5Cfrac%7B%7C%20Ax_3%20%2B%20By_3%20%2B%20C%20%7C%7D%7B%5Csqrt%7BA%5E2%20%2B%20B%5E2%7D%7D" class=" formula-block" src="https://render.githubusercontent.com/render/math?math=%5CLarge%20o%3D%5Cfrac%7B%7C%20Ax_3%20%2B%20By_3%20%2B%20C%20%7C%7D%7B%5Csqrt%7BA%5E2%20%2B%20B%5E2%7D%7D"/><p class="new">Add a method named <code>perpendicular_distance_to_point</code> to <code>BetterGeneralLine</code>.  </p><ul><li>Its parameter is a Point2D type</li><li>returns the calculated perpendicular distance to given point. As a learning 
bonus, you can calculate this value using linear algebra (vector cross products) as <a href="https://www.qc.edu.hk/math/Advanced%20Level/Point_to_line.htm" target="_blank">well</a>.</li></ul><h2 id="testing">Testing</h2><p class="new">You can test your classes using the built-in <code>ide.tester</code>. The tests assume you 
have a valid <code>Point2D</code> and <code>BetterGeneralLine</code> classes. If you have multiple
 definitions be sure the <em>last</em> one is the correct one. If you have two
 different versions of a class (or function), the last one is the one Python uses.</p><div class="ide code-starter clearfix"><pre><code># ide.tester.test_functionality('better_line')</code></pre></div><h1>Test and Submit</h1><p>Once you have finished, you can download your code (via <code>ide.tester</code>) and upload that file to Gradescope (find lesson with tag <strong>classes-p1</strong>).</p><div class="my-4"><pre><code><strong># to list the tests available</strong><br/>print(ide.tester.list_tests())<br/><strong># to perform a specific test</strong><br/>print(ide.tester.test_functionality('name of test'))<br/><strong># to test your code (either works)</strong><br/>print(ide.tester.test_notebook())<br/>print(ide.tester.test_notebook(verbose=True))<br/><strong># to prepare and download your code</strong><br/>ide.tester.download_solution()</code></pre></div><div class="lesson-footer flex bg-gray-200 justify-center"><div class="lesson-footer-card displaycard bg-blue-200 border-t border-gray-400 max-w-2xl rounded overflow-hidden shadow-lg"><div class="px-6 py-4"><div class="title-text text-center font-bold text-xl">Python Classes (part 1)</div><p class="text-center text-gray-800 text-xl">Building User Defined Types</p><div class="text-center mt-6 text-xl"><i aria-hidden="true" class="fas fa-tags"></i> any questions on Piazza with <span class="font-bold">classes-p1</span></div><div class="text-gray-700 text-base"> </div><div class="text-gray-700 text-base">Readings</div><div class="text-xs p-2 border border-solid border-gray-500 bg-gray-300"> <div class="text-gray-700 px-4 m-2">• <!-- --> <a href="https://www.digitalocean.com/community/tutorials/how-to-construct-classes-and-define-objects-in-python-3" target="_blank">https://www.digitalocean.com/community/tutorials/how-to-construct-classes-and-define-objects-in-python-3</a></div><div class="text-gray-700 px-4 m-2">• <!-- --> <a href="https://www.digitalocean.com/community/tutorials/understanding-class-and-instance-variables-in-python-3" target="_blank">https://www.digitalocean.com/community/tutorials/understanding-class-and-instance-variables-in-python-3</a></div></div><div></div><div class="flex mt-4 border-t border-solid border-gray-500 justify-around bg-gray-200"><div class="text-gray-700 text-center px-4 m-2 text-sm">D.M. &amp; the 🐍</div><div class="text-gray-700 text-center px-4 m-2 text-sm"><strong>Version:</strong> <!-- -->SP21</div></div><div class="text-gray-700 mt-2 text-center text-sm font-bold">All Rights Reserved Michael Haberman</div><div class="text-gray-700 text-center text-sm">Do not distribute this notebook</div></div></div></div><div> </div><div class="ide code-starter clearfix"><pre><code># print(ide.tester.test_notebook()) 
# print(ide.tester.test_notebook(verbose=True)) 

# once you are ready -- run this 
# ide.tester.download_solution() 
</code></pre></div></div></div></body></html>