<!DOCTYPE html><html lang='en'><head><title>Estimating Variability</title><meta charset="utf-8"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}input{font-family:inherit;font-size:100%;line-height:1.15;margin:0}input{overflow:visible}[type=checkbox]{box-sizing:border-box;padding:0}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1,h2,h3,h4,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e2e8f0}img{border-style:solid}input:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder{color:#a0aec0}input::-moz-placeholder{color:#a0aec0}h1,h2,h3,h4{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}input{padding:0;line-height:inherit;color:inherit}code,pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-gray-300{--bg-opacity:1;background-color:#e2e8f0;background-color:rgba(226,232,240,var(--bg-opacity))}.bg-orange-300{--bg-opacity:1;background-color:#fbd38d;background-color:rgba(251,211,141,var(--bg-opacity))}.bg-green-200{--bg-opacity:1;background-color:#c6f6d5;background-color:rgba(198,246,213,var(--bg-opacity))}.bg-blue-200{--bg-opacity:1;background-color:#bee3f8;background-color:rgba(190,227,248,var(--bg-opacity))}.bg-blue-300{--bg-opacity:1;background-color:#90cdf4;background-color:rgba(144,205,244,var(--bg-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-gray-500{--border-opacity:1;border-color:#a0aec0;border-color:rgba(160,174,192,var(--border-opacity))}.border-indigo-500{--border-opacity:1;border-color:#667eea;border-color:rgba(102,126,234,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border{border-width:1px}.border-l-2{border-left-width:2px}.border-t{border-top-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.justify-center{justify-content:center}.justify-around{justify-content:space-around}.clearfix:after{content:"";display:table;clear:both}.font-sans{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}.font-serif{font-family:Georgia,Cambria,"Times New Roman",Times,serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-64{height:16rem}.text-xs{font-size:.75rem}.text-sm{font-size:.875rem}.text-base{font-size:1rem}.text-xl{font-size:1.25rem}.leading-none{line-height:1}.leading-normal{line-height:1.5}.m-2{margin:.5rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.mt-6{margin-top:1.5rem}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.object-contain{-o-object-fit:contain;object-fit:contain}.opacity-0{opacity:0}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pl-3{padding-left:.75rem}.absolute{position:absolute}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.shadow-inner{box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.06)}.text-left{text-align:left}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.whitespace-no-wrap{white-space:nowrap}.w-1\/2{width:50%}.w-2\/3{width:66.666667%}.w-full{width:100%}@media (min-width:768px){.md\:w-2\/3{width:66.666667%}}.text-tiny{font-size:.5rem!important}body{color:#000!important;font-size:1.25rem!important}.main-content{max-width:900px}.lesson{padding-left:15px!important;padding-right:10px!important;--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.main-content,html{font-family:Arial,Georgia,Verdana,"Times New Roman"!important}.lesson-footer-card,.lesson-overview-card{font-family:"Times New Roman"!important}.lesson-footer{margin-top:50px;margin-top:20px}.lesson ul{list-style-position:inside;list-style-type:none;margin-left:1em}.lesson ul li{padding-left:1em;padding-right:5px}.lesson ul li::before{content:"•";padding-right:5px}span{white-space:nowrap}p.new{padding-top:0;padding-bottom:.5em}p.new+p{padding-top:.5em}h1,h2,h3,h4{font-weight:700;margin-top:.25em!important;margin-bottom:.05em!important;font-family:Georgia,Cambria,"Times New Roman",Times,serif!important}h1{font-size:2em!important;clear:both;color:#000!important}div+h1,h2{margin-top:0!important}h2{margin-top:.5em!important;font-size:1.5em!important;clear:both;color:#8b0000!important}h3{font-size:1.25em!important;clear:both;color:#006400!important}h4{font-size:1em!important;clear:both;color:#00008b!important}ul{margin-bottom:30px}.lesson a{text-decoration:underline;color:#00f}.title-text{font-size:2rem}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.5)}img.center{-o-object-position:center;object-position:center;margin-left:auto;margin-right:auto}img.border{border:1px solid #021a40;margin-top:.5rem;margin-bottom:.75rem}img.iw700{height:auto;width:auto;max-width:700px}img.iw400{height:auto;width:auto;max-width:400px}img.iw500{height:auto;width:auto;max-width:500px}code{font-size:smaller}pre code{font-size:15px}pre code:not(.line-number){background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;clear:both;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:840px;max-width:840px;overflow:scroll;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33}div.code-starter>pre code{border-left:3px solid #fdff44!important;background-image:radial-gradient(rgba(0,150,0,.75),#000 120%);color:#fff;font:.9rem Inconsolata,monospace}div.code-starter>pre code::after{content:"\a$_"}.tab{font-size:1rem;border-color:#8c6728}.tab-content{max-height:0;max-width:100%;transition:max-height .35s}.tab input:checked~.tab-content{max-height:100vh}.tab input:checked+label{padding:1rem;border-left-width:2px;border-color:#6574cd;background-color:#f8fafc;color:#6574cd}.tab label::after{float:right;right:0;top:0;display:block;width:1em;height:1.5em;line-height:1.5;font-size:1rem;text-align:center;transition:all .35s}.tab input[type=checkbox]+label::after{content:"+";font-weight:700;border-width:1px;border-radius:9999px;border-color:#8c6728}.tab input[type=checkbox]:checked+label::after{transform:rotate(315deg);background-color:#6574cd;color:#f8fafc}</style>
<script src="https://kit.fontawesome.com/7efc4bcee2.js" crossOrigin="anonymous"></script>
<script>
    let stateCheck = setInterval(function(){
      if (document.readyState === 'complete') {
        clearInterval(stateCheck);
        let s1 = document.getElementById('start');
        // console.log('doc is ready', s1);
        if (s1) {
           s1.setAttribute('tabindex', '-1');
           s1.focus(); 
           s1.scrollIntoView({behavior: 'smooth'}); 
           setTimeout(function(){s1.blur()}, 500);
           // console.log('focus set');
        }
      }
    }, 200);
    </script>
</head><body class="lesson"><div class="main-content lesson bg-gray-200 text-black p-1 pl-3 font-serif"><div class="md-inner">
<div id="start" class="section">&nbsp;</div><h1 class="overview"></h1><div class="lesson-overview bg-gray-200 flex justify-center"><div class="text-center px-4 py-2 m-2"><div class="lesson-overview-card displaycard bg-blue-200 max-w-sm rounded overflow-hidden shadow-lg"><div> </div><img alt="Text" class="object-contain h-64 w-full" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds-sm.png"/><div class="px-6 py-4"><div class="title-text text-center leading-none font-bold text-xl">Estimating Variability</div><p class="text-center mt-2 text-gray-800 text-xl">Descriptive Statistics in Python</p><div class="text-gray-700 text-base"> </div><div class="text-center mb-3"><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#info490</span></div><div class="flex border-t border-solid border-gray-500 shadow-inner justify-around bg-blue-300"><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap">🐍  4 D.S.</span></div><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap"><strong>Version:</strong> <!-- -->SP21</span></div></div><div class="text-gray-700 mt-1 text-center text-tiny">All Rights Reserved</div></div></div></div><div class="text-center px-4 py-2 m-2 w-1/2"><div class="displaycard bg-gray-200 max-w-sm rounded overflow-hidden shadow-lg"><div class="px-6 py-4 text-left"><div class="text-center font-bold text-xl">Estimating Variability<br/><div><span>prerequisites</span><div class="text-center text-xs mb-2">(start only after finishing)</div><p class="max-w-sm text-gray-800 text-sm">⦿ <strong>bootcamp</strong></p><p class="max-w-sm text-gray-800 text-sm">⦿ <strong>matplotlib (part 1)</strong></p><p class="max-w-sm text-gray-800 text-sm">⦿ <strong>numpy parts 1, 2</strong></p><p class="max-w-sm text-gray-800 text-sm">⦿ <strong>pandas part 1</strong></p></div></div></div><div class="px-6 py-4 text-left text-gray-800"><div class="text-center font-bold text-xl">Colab Notes</div><p class="max-w-sm text-sm">1. <strong>Copy</strong> this notebook <img alt="copy2drive.png" class="inline-block" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/copy2drive.png"/></p><p class="max-w-sm text-sm">2. <strong>Update</strong> the <strong><code>NET_ID</code></strong> in the notebook</p><p class="max-w-sm text-gray-800 text-sm">3. <strong>Hit ▶️ </strong> to install the INFO 490 IDE</p><div class="text-center font-bold text-xl"> </div><div class="text-center font-bold text-xl">Jupyter/PyCharm Notes</div><p class="max-w-sm text-gray-800 text-sm text-left">The testing framework does <strong>not work</strong> (at this time) for Jupyter  notebooks or local code development.</p></div></div></div></div><h1 class="section" id="section1">Estimating Variability </h1><h2 id="descriptive-statistics-in-python">Descriptive Statistics in Python</h2><img alt="ds1.png" class="center" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds1.png"/><p class="new">If the average for a test was 80%, what would you know about the individual 
test scores?  </p><p class="new">If half of the students scored 100% and the other half scored 60%, then that 
80% average is misleading. However, if everyone got 80%, that statistic provides 
a good representation of the data.</p><p class="new">This is why it's best to ask for as many descriptive statistics as possible. 
The mean, median and mode can tell you a lot about the central tendencies of the data. 
Unfortunately, it's still not enough -- but there's more in our statistical toolbox.</p><h1 class="section" id="section2">How Different Are We?  </h1><h2 id="dispersion-distribution-and-variability">Dispersion, Distribution and Variability</h2><p class="new">In addition to location the next "dimension" of descriptive statistics is to 
look at the distribution of the data, that is how spread out or concentrated the 
data is. The essence of statistics is trying to understand variability and knowing 
what part is 'random' and what part can be determined.</p><h2 id="variance">Variance</h2><p class="new">The variance is the average squared deviation. A deviation is the distance of 
each point from the mean. In the formula below the deviation is the numerator. 
The deviation is squared so that both positive and negative deviations don't 
cancel each other out. Dividing by n, gets the average.</p><img alt="ds2.png" class="center" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds2.png"/><p class="new">Taking the square root of the variance is the standard deviation. This value 
is sometimes easier to interpret since its value has the same magnitude (relative 
distance to zero) of the dataset. A small variance means the data is close 
to the mean or its spread is low.</p><p class="new">Let's look at an example using the dice roll dataset:
<img alt="ds3.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds3.png"/></p><p class="new">You can use Numpy to calculate both the variance and standard deviation.</p><div class="ide code-starter clearfix"><pre><code>import numpy as np
import LessonUtil as Util
rolls = Util.perfect_dice()
print('var {0:.2f}'.format(np.var(rolls)))
print('std {0:.2f}'.format(np.std(rolls)))</code></pre></div><p class="new">The standard deviation, 2.42 is an indicator of how much spread there is in the 
dataset. So, on average (think of throwing two dice, many times), the sum of 
two dice thrown will be about 2.42 away from 7 (the mean) in either direction. </p><p class="new">However, as we will see later, if you know more about the underlying distribution, 
the standard deviation carries a lot more information. Without knowing about 
the distribution, it's simply a measure of the average deviance of the observed 
values from the mean; an indication of how closely the values are spread about 
the mean. A small standard deviation would indicate that the values are all similar.</p><h2 id="rangepercentilequantile">Range/Percentile/Quantile</h2><img alt="ds4.png" class="center" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds4.png"/><p class="new">The range of a dataset is the difference between the largest and smallest values:</p><p class="new">The range is also a very handy measurement used to rescale the data (discussed later).
A more useful range looks at the difference between the median values of the 
first 25% and the last 25%. This value is called the <em>interquartile range</em> (IQR) 
and is defined as the difference between the Q3 and Q1 values. It's a measurement 
of the spread that is less susceptible to outliers.</p><img alt="ds5.png" class="center" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds5.png"/><p class="new">For the dice example (shown below), Q1 is 5, Q2 is 7, and Q3 is 9.  The IRQ is 4.</p><img alt="ds6.png" class="center" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds6.png"/><p class="new">Rather than skipping quickly over the above graph, be sure you understand where 
those values come from.</p><p class="new">The <code>scipy.stats</code> module has an IRQ function:</p><div class="ide code-starter clearfix"><pre><code>import scipy.stats
import numpy as np
import LessonUtil as Util

rolls = Util.perfect_dice()
print('IQR', scipy.stats.iqr(rolls))</code></pre></div><h2 id="percentiles">Percentiles</h2><p class="new">A percentile indicates the value below which a given percentage of observations 
in a group of observations falls. You can use numpy to easily get the different 
percentiles. For example, to get the percentile of a distribution of data is 
the median value of the data at 25%, 50%, 75%.  </p><div class="ide code-starter clearfix"><pre><code>rolls = Util.perfect_dice()
print(np.percentile(rolls, 25))  # Q1
print(np.percentile(rolls, 50))  # median
print(np.percentile(rolls, 75))  # Q3</code></pre></div><p class="new">Similarly, you can find out what the percentile of rank a specific data value is. 
For example, if you rolled an 11 what percent rank is that?</p><pre><code>print('11', scipy.stats.percentileofscore(rolls, 11))</code></pre><h3 id="the-box-plot">The Box Plot</h3><p class="new">The Box Plot (sometimes called box and whiskers) graph essentially visualizes 
the IRQ data. The following diagram highlights the interesting parts of a box plot:</p><img alt="ds7.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds7.png"/><p class="new">You can easily create box plots in Pandas (i.e. matplotlib):</p><img alt="ds8.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds8.png"/><div class="ide code-starter clearfix"><pre><code>import pandas as pd

rolls = Util.perfect_dice()
df    = pd.DataFrame(rolls)
axes  = df.boxplot()

# to save a figure from pandas (it's matplotlib!)
# axes.get_figure().savefig('b.png')</code></pre></div><p class="new">Another available dataset is the price paid for a ticket.  You can access this
 data, dollar.csv, via the LessonUtil.</p><pre><code>p    = Util.path_for_data('dollar.csv')
df   = pd.read_csv(p)
axes = df.boxplot()</code></pre><p class="new">The boxplot looks like the following:
<img alt="ds9.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds9.png"/></p><p class="new">You can show outliers (by passing <code>showfliers=True</code> to <code>boxplot</code>)</p><img alt="ds10.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds10.png"/><p class="new">This indeed confirms that the dollar data has a number of significant outliers.</p><h2 id="distribution">Distribution</h2><p class="new">Probably the most interesting (yet the most elusive to numerically quantify 
into a meaningful summary statistic) attribute of a dataset is its 
distribution -- that is how are the measurements spread out from the minimum 
to the maximum. Usually, you will see either histograms or probability density 
functions (pdf) used to visualize a distribution.</p><img alt="ds11.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds11.png"/><p class="new">Histograms (left graph) are also called a probability <strong>mass</strong> function (pmf) 
when the height of the bars is expressed as a percentage. The characteristic 
or variable being measured is considered discrete. In this context, 
discrete means the ONLY possibilities are those listed and are 
countable (you could not get a 3.5 in a dice roll, for example).</p><p class="new">The probability <strong>density</strong> function (pdf) (the right graph) is concerned with 
graphing a continuous set (infinite) possibilities. A PDF is more of a 
theoretical/mathematical concept. Even if you measured/sampled a continuous 
variable (like age, height, weight), the measurements are discrete -- 
at some point no device can truly measure to an infinite level of accuracy. 
The PDF graph shows the distribution if you were able to sample or plot every possible value.</p><p class="new">In order to determine the probability of a specific item in a continuous 
distribution, you will need to use calculus over a very small range to 
find the "area under the curve" (if you had calculus, you may remember 
that the probability of any specific value is zero). The word probability 
is used (i.e. pmf, pdf) as these refer to a random variable whose value is the 
outcome of a random event -- but that is indeed outside the scope of this course¹.</p><h3 id="the-normal-distribution">The Normal Distribution</h3><img alt="ds12.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds12.png"/><p class="new">There are many types of well studied distributions (discrete, binomial, 
geometric, poisson, continuous, uniform) but if the field of statistics had to 
offer a poster distribution, it would be the normal distribution. The normal 
distribution has many known properties.  </p><p class="new">You have probably seen the graph below that describes the properties 
of a normal (continuous) distribution.</p><img alt="ds13.png" class="center iw500 mb-4" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds13.png"/><p class="new">As mentioned, one of <strong>THE</strong> central ideas in statistics is understanding the 
metrics and characteristics of a "normal" (a.k.a Gaussian) distribution. Even 
when the data is discrete, a distribution can be said to be deemed normal 
if 95% of the data falls within 2 standard deviations of the mean. 
Discrete distributions can exhibit 'normality' but a normal distribution 
usually refers to the continuous (PDF) model.</p><img alt="ds14.png" class="center iw400 mb-4" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds14.png"/><p class="new">Although the word 'normal' is used, you should know that other than for 
an artificially generated dataset, almost all natural datasets are not 'normal'. 
However, a key fact in statistics is that from proper sampling, the 
distribution of sample means for a variable will approximate a normal 
distribution regardless of that variable’s distribution in the population (i.e the 
central limit theorem). Many of the underlying statistics rely on the 
characteristics of normality. We will look at how to use Python to generate 
proper random samples in another lesson.</p><h3 id="fitting-a-pdf-to-a-dataset">Fitting a PDF to a dataset.</h3><img alt="ds15.png" class="center iw400" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds15.png"/><p class="new">The data inside <code>normal.csv</code> is the measurements of the wing span of common 
house flies. It just so happens, that the wing length is normally distributed. 
We can create a graph of the data and plot a PDF to it as well:</p><div class="ide code-starter clearfix"><pre><code>def plot_pdf(v):

    import matplotlib.pyplot as plt
    import scipy.stats
    import numpy as np
    
    # plot the data as a histogram
    fig, axes = plt.subplots(nrows=1, ncols=1)
    
    # both of these generate a normal distribution
    fit = scipy.stats.norm.pdf(v, np.mean(v), np.std(v)) 
    kde = scipy.stats.gaussian_kde(v)

    # plot the pdf; pick one, either works
    axes.plot(v, fit,'-',linewidth = 2)
    #axes.plot(v, kde.pdf(v))

    # plot the histogram
    axes.hist(v, density=True, bins=20)      
    
    # to save the figure
    # fig.savefig('normal.png')

p  = Util.path_for_data('normal.csv')
df = pd.read_csv(p)
h  = df['hws'].values
plot_pdf(h)</code></pre></div><p class="new">By now, you should be able to read that code with alacrity.</p><h1 class="section" id="section3">The Variability of Normality </h1><img alt="ds16.png" class="center iw400 dy-4" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds16.png"/><p class="new">Although the normal is nice (see picture of <em>normal</em> corn), in reality, 
the actual distribution of your data is most likely abnormal (see not so 
nice corn picture). There are two more summary statistics: <em>skew</em> and <em>kurtosis</em>. 
One important point is that both skewness and kurtosis are impacted by the sample size. </p><h2 id="skew">Skew</h2><p class="new">If you plot out the distribution and also mark the mean, median and mode, the 
relative location can tell you information about the skew (how distorted or 
asymmetric the data is).</p><p class="new">Take a look at the figure below to understand the order of the mean, median, and 
mode in left-skewed distributions (also called negatively-skewed distribution), 
right-skewed distributions (also called positively-skewed distribution) and normal distributions:</p><img alt="ds17.png" class="center dy-4 iw700 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds17.png"/><h3 id="negative-skew-mean--median--mode">negative skew: (mean &lt; median &lt; mode)</h3><p class="new">The left tail is longer; the mass of the distribution is concentrated on the 
right of the figure. The distribution is said to be left-skewed, left-tailed, 
or skewed to the left, despite the fact that the curve itself appears to be 
skewed or leaning to the right; left instead refers to the left tail being 
drawn out. </p><img alt="ds18.png" class="center dy-4 iw500 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds18.png"/><p class="new">A left-skewed distribution usually appears as a <em>right-leaning</em> curve.</p><h3 id="positive-skew-mode--median--mean">positive skew: (mode &lt; median &lt; mean)</h3><p class="new">The right tail is longer; the mass of the distribution is concentrated on the 
left of the figure. The distribution is said to be right-skewed, right-tailed, 
or skewed to the right, despite the fact that the curve itself appears to be 
skewed or leaning to the left; right instead refers to the right tail being drawn out, </p><img alt="ds19.png" class="center dy-4 iw500 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds19.png"/><p class="new">A right-skewed distribution usually appears as a <em>left-leaning</em> curve²</p><h2 id="kurtosis">Kurtosis</h2><p class="new">The other characteristic to discuss is kurtosis. If skewness differentiates extreme 
values in one tail, kurtosis measures extreme values in either tail. Distributions 
with large kurtosis exhibit tail data exceeding the tails of the normal 
distribution (e.g., five or more standard deviations from the mean). 
Distributions with low kurtosis exhibit tail data that are generally less extreme 
than the tails of the normal distribution. </p><p class="new">Kurtosis describes the degree to which values <strong>cluster in the tails</strong> of a distribution.</p><h2 id="measuring-skew--kurtosis-">Measuring Skew &amp; Kurtosis </h2><p class="new">We won't go into the math behind measuring skewness or the kurtosis, but it 
is useful to know how to interpret the values. Here's the normal pdf 
drawn (red) on top of the dice graph for reference:</p><img alt="ds20.png" class="center dy-4 iw500 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds20.png"/><p class="new">Scipy.stats has both functions to measure skewness and kurtosis.</p><div class="ide code-starter clearfix"><pre><code>import scipy.stats
data = Util.perfect_dice()
print("skew","{0:.2f}".format(scipy.stats.skew(data)))</code></pre></div><h3 id="lets-take-a-quick-look-at-skewness">Let's take a quick look at skewness:</h3><p class="new">For the dice example, it has skew 0 (it's symmetric) and has 
a kurtosis of 2.37 </p><ul><li>A symmetrical dataset will have  skew == 0</li><li>A negative distribution will have skew &lt; 0: (mean &lt; median)</li><li>A positive distribution will have  skew &gt; 0: (mean &gt; median)</li></ul><h4 id="-05-05">[-0.5, 0.5]</h4><p class="new">If the skewness is between -0.5 and 0.5, the data are fairly symmetrical</p><h4 id="-10--05">[-1.0, -0.5]</h4><p class="new">If the skewness is between -1 and – 0.5 the data are moderately negatively skewed</p><h4 id="05-10">[0.5, 1.0]</h4><p class="new">If the skewness is between 0.5 and 1, the data are moderately positively skewed</p><h4 id="abs--1-">abs() &gt; 1 </h4><p class="new">If the skewness is less than -1 or greater than 1, the data are highly skewed</p><h3 id="lets-take-a-quick-look-at-kurtosis">Let's take a quick look at kurtosis:</h3><p class="new">Kurtosis values range from 1 to positive infinity and are centered around 
3 or 0 (Fisher-Pearson adjusted) if the distribution is normal. Here's how 
to interpret kurtosis values:</p><p class="new">Normal distribution: kurtosis = 3 (Fisher: =~ 0)</p><p class="new">Kurtosis value greater than 3 (Fisher: &gt; 0)</p><ul><li>It has <strong>more outliers</strong> than a normal distribution.</li><li>A distribution that is more peaked and has fatter tails than a normal distribution</li><li>The higher kurtosis, the more peaked, heavier, fatter the tails.</li><li>Called leptokurtic or leptokurtotic. (Peaked Looking)</li></ul><p class="new">Kurtosis value between 1 and 3 (Fisher: &lt; 0)</p><ul><li>It has <strong>fewer outliers</strong> than a normal distribution.</li><li>A distribution that is less peaked and has thinner tails than a normal distribution</li><li>Called platykurtic or platykurtotic. (Flat Looking)</li></ul><img alt="ds21.png" class="center dy-4 iw400 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds21.png"/><p class="new">For the dice example, it has a kurtosis of 2.37 (or -0.63)</p><div class="ide code-starter clearfix"><pre><code>import scipy.stats
data = Util.perfect_dice()
print("kurt","{0:.2f}".format(scipy.stats.kurtosis(data)))
print("kurt","{0:.2f}".format(scipy.stats.kurtosis(data, fisher=False)))</code></pre></div><p class="new">Looking at the graph, the 2.37 indicates that there is less data in the tails compared to a normal distribution.</p><h3 id="skew-and-kurtosis-by-example">Skew and Kurtosis By Example</h3><p class="new">Let's take a look at some example distributions and their respective skew and kurtosis numbers:</p><h4 id="the-normal-curve">The Normal Curve</h4><img alt="ds22.png" class="center dy-4 iw400 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds22.png"/><h4 id="right-positive-skewed">Right (positive) Skewed</h4><img alt="ds23.png" class="center dy-4 iw400 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds23.png"/><h4 id="left-negative-skewed">Left (negative) Skewed</h4><img alt="ds24.png" class="center dy-4 iw400 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds24.png"/><h4 id="uniform">Uniform</h4><img alt="ds25.png" class="center dy-4 iw400 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds25.png"/><h2 id="the-problems-with-skew-and-kurtosis">The Problems with Skew And Kurtosis</h2><p class="new">Unfortunately, having multi-modal distributions (or multi skewed) won't 
be revealed in the resulting skew and kurtosis values.</p><h3 id="bi-modal">Bi-Modal</h3><img alt="ds26.png" class="center dy-4 iw400 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds26.png"/><img alt="ds27.png" class="center dy-4 iw400 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds27.png"/><p class="new">Just as you wouldn't compare the mean of the human weights to the mean of 
human heights (even if you controlled for gender, age, etc) -- it just 
doesn't make sense to compare these averages, comparing the skew and kurtosis 
of two different distributions isn't wise either.</p><p class="new">Both skew and kurtosis are providing information compared to a normal distribution. </p><p class="new">The diagram below shows the same distribution (having the same mean and variance) 
but with different levels of kurtosis (using the Fisher variant of 0 being normal)
<img alt="ds28.png" class="center dy-4 iw400 border" src="https://raw.githubusercontent.com/habermanUIUC/CodeStoryLessons/main/lessons/p4ds/ds/variability/html/ds28.png"/></p><p class="new">As previously mentioned, both skewness and kurtosis are not perfect. For multi-modal 
examples, you can see the skewness is not a reliable indicator. Also, since 
the sample size affects these values, it's not helpful to compare the 
kurtosis of one distribution against another. You can see this in some of 
the above graphs.</p><h1 class="section" id="section4">Statistical Moments</h1><p class="new">In statistical theory, the word moments is used to describe parameters to measure 
a distribution.  We have now covered the first four:</p><ul><li>First Moment: location (mean)</li><li>Second Moment: variability (variance, standard deviation)</li><li>Third Moment: skewness</li><li>Fourth Moment: kurtosis</li></ul><div class="font-sans container mt-1 mb-4 "><p>🎗Before you go, you should <strong>know</strong>:</p><div class="w-2/3 md:w-2/3"><div class="shadow-md"><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-0" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-0"><span> the meaning of variance, range, skew, kurtosis (not mathematically, but
intuitive) </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-1" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-1"><span> the difference in skewed distributions (left, right, negative, positive) </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div><div class="tab overflow-hidden border-t bg-green-200"><input class="absolute opacity-0" id="tab-multi-2" name="tabs" type="checkbox"/><label class="block p-3 leading-normal cursor-pointer" for="tab-multi-2"><span> how to interpret kurtosis </span></label><div class="tab-content overflow-hidden border-l-2 bg-orange-300 border-indigo-500 leading-normal"><p class="p-3">No Answer</p></div></div></div></div></div><h1 class="section" id="section5">Lesson Assignment</h1><p class="new">All tests have been removed in an attempt to balance work load and content.</p><h1>Submit</h1><p>You can download your notebook (via <code>ide.tester</code>) and upload that file to Gradescope (find lesson with tag <strong>DS-Variability</strong>).</p><div></div><div class="lesson-footer flex bg-gray-200 justify-center"><div class="lesson-footer-card displaycard bg-blue-200 border-t border-gray-400 max-w-2xl rounded overflow-hidden shadow-lg"><div class="px-6 py-4"><div class="title-text text-center font-bold text-xl">Estimating Variability</div><p class="text-center text-gray-800 text-xl">Descriptive Statistics in Python</p><div class="text-center mt-6 text-xl"><i aria-hidden="true" class="fas fa-tags"></i> any questions on Piazza with <span class="font-bold">DS-Variability</span></div><div class="text-gray-700 text-base"> </div><div></div><div class="text-gray-700 text-base">References and Additional Readings</div><div class="text-xs p-2 border border-solid border-gray-500 bg-gray-300"> <div class="text-gray-700 px-4 m-2"><span> </span> <strong>Readings</strong></div><div class="text-gray-700 px-4 m-2">• <!-- --> <a href="https://towardsdatascience.com/probability-concepts-explained-probability-distributions-introduction-part-3-4a5db81858dc" target="_blank">https://towardsdatascience.com/probability-concepts-explained-probability-distributions-introduction-part-3-4a5db81858dc</a></div><div class="text-gray-700 px-4 m-2"><span> </span> <strong>Image Credits</strong></div><div class="text-gray-700 px-4 m-2">• <!-- --> <a href="https://www.datavedas.com/measures-of-shape/" target="_blank">https://www.datavedas.com/measures-of-shape/</a></div><div class="text-gray-700 px-4 m-2"><span> </span> <strong>References</strong></div><div class="text-gray-700 px-4 m-2"><span> </span> <strong>¹ If there's one class that should be taken by every data scientist, it is statistics</strong></div><div class="text-gray-700 px-4 m-2"><span> </span> <strong>² Wikipedia entry</strong></div></div><div class="flex mt-4 border-t border-solid border-gray-500 justify-around bg-gray-200"><div class="text-gray-700 text-center px-4 m-2 text-sm">🐍  4 D.S.</div><div class="text-gray-700 text-center px-4 m-2 text-sm"><strong>Version:</strong> <!-- -->SP21</div></div><div class="text-gray-700 mt-2 text-center text-sm font-bold">All Rights Reserved Michael Haberman</div><div class="text-gray-700 text-center text-sm">Do not distribute this notebook</div></div></div></div><div> </div><div class="ide code-starter clearfix"><pre><code># print(ide.tester.test_notebook()) 
# print(ide.tester.test_notebook(verbose=True)) 

# once you are ready -- run this 
# ide.tester.download_solution() 
</code></pre></div></div></div></body></html>